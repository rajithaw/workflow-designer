!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("workflow-designer",[],e):"object"==typeof exports?exports["workflow-designer"]=e():t["workflow-designer"]=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=79)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(28);n.d(e,"creator",function(){return r.a});var i=n(87);n.d(e,"local",function(){return i.a});var o=n(46);n.d(e,"matcher",function(){return o.a});var a=n(88);n.d(e,"mouse",function(){return a.a});var u=n(29);n.d(e,"namespace",function(){return u.a});var s=n(30);n.d(e,"namespaces",function(){return s.a});var c=n(89);n.d(e,"select",function(){return c.a});var l=n(117);n.d(e,"selectAll",function(){return l.a});var f=n(2);n.d(e,"selection",function(){return f.b});var h=n(34);n.d(e,"selector",function(){return h.a});var p=n(47);n.d(e,"selectorAll",function(){return p.a});var _=n(50);n.d(e,"style",function(){return _.b});var d=n(118);n.d(e,"touch",function(){return d.a});var v=n(119);n.d(e,"touches",function(){return v.a});var y=n(35);n.d(e,"window",function(){return y.a});var m=n(32);n.d(e,"event",function(){return m.c}),n.d(e,"customEvent",function(){return m.a})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){t[t.Workflow=1]="Workflow",t[t.Start=2]="Start",t[t.End=3]="End",t[t.Intermediate=4]="Intermediate"}(e.ItemType||(e.ItemType={}))},function(t,e,n){"use strict";function r(t,e){this._groups=t,this._parents=e}function i(){return new r([[document.documentElement]],P)}n.d(e,"c",function(){return P}),e.a=r;var o=n(90),a=n(91),u=n(92),s=n(93),c=n(48),l=n(95),f=n(96),h=n(97),p=n(98),_=n(99),d=n(100),v=n(101),y=n(102),m=n(103),g=n(104),b=n(105),w=n(50),x=n(106),O=n(107),j=n(108),I=n(109),k=n(110),M=n(111),T=n(112),L=n(113),A=n(114),S=n(115),C=n(32),E=n(116),P=[null];r.prototype=i.prototype={constructor:r,select:o.a,selectAll:a.a,filter:u.a,data:s.a,enter:c.b,exit:l.a,merge:f.a,order:h.a,sort:p.a,call:_.a,nodes:d.a,node:v.a,size:y.a,empty:m.a,each:g.a,attr:b.a,style:w.a,property:x.a,classed:O.a,text:j.a,html:I.a,raise:k.a,lower:M.a,append:T.a,insert:L.a,remove:A.a,datum:S.a,on:C.b,dispatch:E.a},e.b=i},function(t,e,n){"use strict";function r(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>f)throw new Error("too late");return n}function i(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>p)throw new Error("too late");return n}function o(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("too late");return n}function a(t,e,n){function r(t){n.state=h,n.timer.restart(i,n.delay,n.time),n.delay<=t&&i(t-n.delay)}function i(r){var l,f,v,m;if(n.state!==h)return a();for(l in c)if(m=c[l],m.name===n.name){if(m.state===_)return Object(s.timeout)(i);m.state===d?(m.state=y,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete c[l]):+l<e&&(m.state=y,m.timer.stop(),delete c[l])}if(Object(s.timeout)(function(){n.state===_&&(n.state=d,n.timer.restart(o,n.delay,n.time),o(r))}),n.state=p,n.on.call("start",t,t.__data__,n.index,n.group),n.state===p){for(n.state=_,u=new Array(v=n.tween.length),l=0,f=-1;l<v;++l)(m=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(u[++f]=m);u.length=f+1}}function o(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(a),n.state=v,1),i=-1,o=u.length;++i<o;)u[i].call(null,r);n.state===v&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){n.state=y,n.timer.stop(),delete c[e];for(var r in c)return;delete t.__transition}var u,c=t.__transition;c[e]=n,n.timer=Object(s.timer)(r,0,n.time)}n.d(e,"c",function(){return h}),n.d(e,"d",function(){return p}),n.d(e,"b",function(){return v}),n.d(e,"a",function(){return y}),e.g=r,e.h=i,e.f=o;var u=n(27),s=n(42),c=Object(u.dispatch)("start","end","interrupt"),l=[],f=0,h=1,p=2,_=3,d=4,v=5,y=6;e.e=function(t,e,n,r,i,o){var u=t.__transition;if(u){if(n in u)return}else t.__transition={};a(t,n,{name:e,index:r,group:i,on:c,tween:l,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:f})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(25);n.d(e,"color",function(){return r.e}),n.d(e,"rgb",function(){return r.g}),n.d(e,"hsl",function(){return r.f});var i=n(82);n.d(e,"lab",function(){return i.a}),n.d(e,"hcl",function(){return i.b});var o=n(83);n.d(e,"cubehelix",function(){return o.a})},function(t,e,n){"use strict";function r(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function i(t){return Object(a.selection)().transition(t)}function o(){return++j}e.a=r,e.b=i,e.c=o;var a=n(0),u=n(173),s=n(174),c=n(175),l=n(176),f=n(177),h=n(178),p=n(179),_=n(180),d=n(181),v=n(182),y=n(183),m=n(184),g=n(185),b=n(186),w=n(187),x=n(188),O=n(21),j=0,I=a.selection.prototype;r.prototype=i.prototype={constructor:r,select:v.a,selectAll:y.a,filter:h.a,merge:p.a,selection:m.a,transition:x.a,call:I.call,nodes:I.nodes,node:I.node,size:I.size,empty:I.empty,each:I.each,on:_.a,attr:u.a,attrTween:s.a,style:g.a,styleTween:b.a,text:w.a,remove:d.a,tween:O.a,delay:c.a,duration:l.a,ease:f.a}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){t[t.Workflow=1]="Workflow",t[t.Start=2]="Start",t[t.End=3]="End",t[t.Intermediate=4]="Intermediate"}(e.LevelType||(e.LevelType={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(142);n.d(e,"path",function(){return r.a})},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(4)),r(n(27)),r(n(85)),r(n(53)),r(n(15)),r(n(8)),r(n(0)),r(n(143)),r(n(42)),r(n(75)),n(190)},function(t,e,n){"use strict";function r(t,e){return function(n){return t+n*e}}function i(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function o(t,e){var n=e-t;return n?r(t,n>180||n<-180?n-360*Math.round(n/360):n):Object(s.a)(isNaN(t)?e:t)}function a(t){return 1==(t=+t)?u:function(e,n){return n-e?i(e,n,t):Object(s.a)(isNaN(e)?n:e)}}function u(t,e){var n=e-t;return n?r(t,n):Object(s.a)(isNaN(t)?e:t)}e.c=o,e.b=a,e.a=u;var s=n(56)},function(t,e,n){"use strict";function r(t){return t>1?0:t<-1?p:Math.acos(t)}function i(t){return t>=1?_:t<=-1?-_:Math.asin(t)}n.d(e,"a",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"e",function(){return u}),n.d(e,"h",function(){return s}),n.d(e,"i",function(){return c}),n.d(e,"k",function(){return l}),n.d(e,"l",function(){return f}),n.d(e,"f",function(){return h}),n.d(e,"j",function(){return p}),n.d(e,"g",function(){return _}),n.d(e,"m",function(){return d}),e.b=r,e.c=i;var o=Math.abs,a=Math.atan2,u=Math.cos,s=Math.max,c=Math.min,l=Math.sin,f=Math.sqrt,h=1e-12,p=Math.PI,_=p/2,d=2*p},function(t,e,n){"use strict";e.a=function(t,e){if((i=t.length)>1)for(var n,r,i,o=1,a=t[e[0]],u=a.length;o<i;++o)for(r=a,a=t[e[o]],n=0;n<u;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}},function(t,e,n){"use strict";e.a=function(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(9),i=n(0),o=n(1),a=n(78),u=n(211),s=n(212),c=n(213),l=n(24),f=function(){function t(t,e,n){this.workflow=t,this.dispatch=e,this.canvas=n,this.levelView=new a.LevelView(t,e,n)}return t.prototype.render=function(){var t=this,e=this.workflow.getAllItems(),n=new u.ItemBody,r=new s.ItemText,i=new c.WorkflowItemRemove,o=this.canvas.selectAll(this.getSelector()).data(e),a=o.enter().append("g").merge(o).attrs(this.getAttributes()).call(this.setupDrag());o.exit().remove(),a.selectAll("*").remove(),a.append("rect").attrs(n.getAttributes()),a.append("text").attrs(r.getAttributes()).text(r.setText),a.append("rect").attrs(i.getAttributes()).on("mousedown",function(e){event.stopPropagation(),t.dispatch.call("workflowitemremoveclicked",t,{data:e})})},t.prototype.getSelector=function(){return"g.wd-item-group"},t.prototype.getAttributes=function(){var e=this;return{id:function(t){return"item-"+t.id},transform:function(t){return"translate("+e.getTranslateX(t)+","+e.getTranslateY(t)+")"},width:function(e){return t.getItemWidth(e.type)},height:function(e){return t.getItemHeight(e.type)},class:function(t){return e.getClasses()}}},t.prototype.getClasses=function(){return"wd-item-group"},t.getItemWidth=function(t){switch(t){case o.ItemType.Start:return l.WorkflowDesignerConfig.startItemWidth;case o.ItemType.Workflow:return l.WorkflowDesignerConfig.workflowItemWidth;case o.ItemType.Intermediate:return l.WorkflowDesignerConfig.intermediateItemWidth;case o.ItemType.End:return l.WorkflowDesignerConfig.endItemWidth;default:return 0}},t.getItemHeight=function(t){switch(t){case o.ItemType.Start:return l.WorkflowDesignerConfig.startItemHeight;case o.ItemType.Workflow:return l.WorkflowDesignerConfig.workflowItemHeight;case o.ItemType.Intermediate:return l.WorkflowDesignerConfig.intermediateItemHeight;case o.ItemType.End:return l.WorkflowDesignerConfig.endItemHeight;default:return 0}},t.prototype.getTranslateX=function(t){var e=t.level,n=this.workflow.getAllLevels(),r=n.findIndex(function(t){return t===e}),i=0;switch(t.type){case o.ItemType.Start:i=l.WorkflowDesignerConfig.startLevelItemSpacingX;break;case o.ItemType.Workflow:i=l.WorkflowDesignerConfig.workflowLevelItemSpacingX;break;case o.ItemType.Intermediate:i=l.WorkflowDesignerConfig.intermediateLevelItemSpacingX;break;case o.ItemType.End:i=l.WorkflowDesignerConfig.endLevelItemSpacingX}return this.levelView.getWidthOfLevels(0,r-1)+i},t.prototype.getTranslateY=function(e){var n=e.level,r=n.items,i=r.findIndex(function(t){return t===e}),a=t.getItemHeight(e.type),u=0;switch(e.type){case o.ItemType.Start:u=l.WorkflowDesignerConfig.startLevelItemSpacingY;break;case o.ItemType.Workflow:u=l.WorkflowDesignerConfig.workflowLevelItemSpacingY;break;case o.ItemType.Intermediate:u=l.WorkflowDesignerConfig.intermediateLevelItemSpacingY;break;case o.ItemType.End:u=l.WorkflowDesignerConfig.endLevelItemSpacingY}return(a+2*u)*i+u},t.prototype.setupDrag=function(){var t=this;return r.drag().on("start",function(e){if(e.type===o.ItemType.Workflow){r.select(this).classed("selected",!0).raise().style("pointer-events","none"),t.dispatch.call("workflowitemdragstart",t,{data:e,element:this})}}).on("drag",function(e){e.type===o.ItemType.Workflow&&(r.select(this).attrs({transform:function(e){t.getTranslateX(e),i.event.x,t.getTranslateY(e),i.event.y;return"translate("+i.event.x+","+i.event.y+")"}}),t.dispatch.call("workflowitemdrag",t,{data:e,element:this}))}).on("end",function(e){if(e.type===o.ItemType.Workflow){r.select(this).classed("selected",!1).style("pointer-events","auto"),t.dispatch.call("workflowitemdragend",t,{data:e,element:this})}})},t}();e.ItemView=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(36);n.d(e,"interpolate",function(){return r.a});var i=n(57);n.d(e,"interpolateArray",function(){return i.a});var o=n(37);n.d(e,"interpolateBasis",function(){return o.b});var a=n(55);n.d(e,"interpolateBasisClosed",function(){return a.a});var u=n(58);n.d(e,"interpolateDate",function(){return u.a});var s=n(16);n.d(e,"interpolateNumber",function(){return s.a});var c=n(59);n.d(e,"interpolateObject",function(){return c.a});var l=n(132);n.d(e,"interpolateRound",function(){return l.a});var f=n(60);n.d(e,"interpolateString",function(){return f.a});var h=n(133);n.d(e,"interpolateTransformCss",function(){return h.a}),n.d(e,"interpolateTransformSvg",function(){return h.b});var p=n(136);n.d(e,"interpolateZoom",function(){return p.a});var _=n(54);n.d(e,"interpolateRgb",function(){return _.a}),n.d(e,"interpolateRgbBasis",function(){return _.b}),n.d(e,"interpolateRgbBasisClosed",function(){return _.c});var d=n(137);n.d(e,"interpolateHsl",function(){return d.a}),n.d(e,"interpolateHslLong",function(){return d.b});var v=n(138);n.d(e,"interpolateLab",function(){return v.a});var y=n(139);n.d(e,"interpolateHcl",function(){return y.a}),n.d(e,"interpolateHclLong",function(){return y.b});var m=n(140);n.d(e,"interpolateCubehelix",function(){return m.b}),n.d(e,"interpolateCubehelixLong",function(){return m.a});var g=n(141);n.d(e,"quantize",function(){return g.a})},function(t,e,n){"use strict";e.a=function(t,e){return t=+t,e-=t,function(n){return t+e*n}}},function(t,e,n){"use strict";function r(t){this._context=t}r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},e.a=function(t){return new r(t)}},function(t,e,n){"use strict";e.a=function(){}},function(t,e,n){"use strict";function r(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function i(t){this._context=t}e.c=r,e.a=i,i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:r(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:r(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},e.b=function(t){return new i(t)}},function(t,e,n){"use strict";function r(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function i(t,e){this._context=t,this._k=(1-e)/6}e.c=r,e.a=i,i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:r(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:r(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},e.b=function t(e){function n(t){return new i(t,e)}return n.tension=function(e){return t(+e)},n}(0)},function(t,e,n){"use strict";function r(t,e){var n,r;return function(){var i=Object(a.h)(this,t),o=i.tween;if(o!==n){r=n=o;for(var u=0,s=r.length;u<s;++u)if(r[u].name===e){r=r.slice(),r.splice(u,1);break}}i.tween=r}}function i(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=Object(a.h)(this,t),u=o.tween;if(u!==r){i=(r=u).slice();for(var s={name:e,value:n},c=0,l=i.length;c<l;++c)if(i[c].name===e){i[c]=s;break}c===l&&i.push(s)}o.tween=i}}function o(t,e,n){var r=t._id;return t.each(function(){var t=Object(a.h)(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return Object(a.f)(t,r).value[e]}}e.b=o;var a=n(3);e.a=function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var o,u=Object(a.f)(this.node(),n).tween,s=0,c=u.length;s<c;++s)if((o=u[s]).name===t)return o.value;return null}return this.each((null==e?r:i)(n,t,e))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(44),i=function(){function t(){this._items=[],this._id=r()}return Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),t.prototype.addItem=function(t){t.level=this,this._items.push(t)},Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasItems",{get:function(){return this._items.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),t}();e.Level=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(44),i=function(){function t(){this._id=r()}return Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this._level},set:function(t){this._level=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(t){this._title=t},enumerable:!0,configurable:!0}),t}();e.Item=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.workflowItemWidth=80,t.workflowItemHeight=40,t.intermediateItemWidth=10,t.intermediateItemHeight=10,t.startItemWidth=30,t.startItemHeight=15,t.endItemWidth=30,t.endItemHeight=15,t.workflowItemRadius=5,t.intermediateItemRadius=5,t.startItemRadius=3,t.endItemRadius=3,t.startLevelItemSpacingX=60,t.workflowLevelItemSpacingX=60,t.intermediateLevelItemSpacingX=60,t.endLevelItemSpacingX=60,t.startLevelItemSpacingY=60,t.workflowLevelItemSpacingY=60,t.intermediateLevelItemSpacingY=60,t.endLevelItemSpacingY=60,t.workflowItemRemoveWidth=10,t.workflowItemRemoveHeight=10,t.workflowItemRemoveRadius=5,t}();e.WorkflowDesignerConfig=r},function(t,e,n){"use strict";function r(){}function i(t){var e;return t=(t+"").trim().toLowerCase(),(e=w.exec(t))?(e=parseInt(e[1],16),new c(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1)):(e=x.exec(t))?o(parseInt(e[1],16)):(e=O.exec(t))?new c(e[1],e[2],e[3],1):(e=j.exec(t))?new c(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=I.exec(t))?a(e[1],e[2],e[3],e[4]):(e=k.exec(t))?a(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=M.exec(t))?l(e[1],e[2]/100,e[3]/100,1):(e=T.exec(t))?l(e[1],e[2]/100,e[3]/100,e[4]):L.hasOwnProperty(t)?o(L[t]):"transparent"===t?new c(NaN,NaN,NaN,0):null}function o(t){return new c(t>>16&255,t>>8&255,255&t,1)}function a(t,e,n,r){return r<=0&&(t=e=n=NaN),new c(t,e,n,r)}function u(t){return t instanceof r||(t=i(t)),t?(t=t.rgb(),new c(t.r,t.g,t.b,t.opacity)):new c}function s(t,e,n,r){return 1===arguments.length?u(t):new c(t,e,n,null==r?1:r)}function c(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function l(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new p(t,e,n,r)}function f(t){if(t instanceof p)return new p(t.h,t.s,t.l,t.opacity);if(t instanceof r||(t=i(t)),!t)return new p;if(t instanceof p)return t;t=t.rgb();var e=t.r/255,n=t.g/255,o=t.b/255,a=Math.min(e,n,o),u=Math.max(e,n,o),s=NaN,c=u-a,l=(u+a)/2;return c?(s=e===u?(n-o)/c+6*(n<o):n===u?(o-e)/c+2:(e-n)/c+4,c/=l<.5?u+a:2-u-a,s*=60):c=l>0&&l<1?0:s,new p(s,c,l,t.opacity)}function h(t,e,n,r){return 1===arguments.length?f(t):new p(t,e,n,null==r?1:r)}function p(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function _(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}e.a=r,n.d(e,"d",function(){return v}),n.d(e,"c",function(){return y}),e.e=i,e.h=u,e.g=s,e.b=c,e.f=h;var d=n(26),v=.7,y=1/v,m="\\s*([+-]?\\d+)\\s*",g="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",b="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",w=/^#([0-9a-f]{3})$/,x=/^#([0-9a-f]{6})$/,O=new RegExp("^rgb\\("+[m,m,m]+"\\)$"),j=new RegExp("^rgb\\("+[b,b,b]+"\\)$"),I=new RegExp("^rgba\\("+[m,m,m,g]+"\\)$"),k=new RegExp("^rgba\\("+[b,b,b,g]+"\\)$"),M=new RegExp("^hsl\\("+[g,b,b]+"\\)$"),T=new RegExp("^hsla\\("+[g,b,b,g]+"\\)$"),L={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object(d.a)(r,i,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),Object(d.a)(c,s,Object(d.b)(r,{brighter:function(t){return t=null==t?y:Math.pow(y,t),new c(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?v:Math.pow(v,t),new c(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Object(d.a)(p,h,Object(d.b)(r,{brighter:function(t){return t=null==t?y:Math.pow(y,t),new p(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?v:Math.pow(v,t),new p(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new c(_(t>=240?t-240:t+120,i,r),_(t,i,r),_(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}))},function(t,e,n){"use strict";function r(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}e.b=r,e.a=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(84);n.d(e,"dispatch",function(){return r.a})},function(t,e,n){"use strict";function r(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===a.b&&e.documentElement.namespaceURI===a.b?e.createElement(t):e.createElementNS(n,t)}}function i(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var o=n(29),a=n(30);e.a=function(t){var e=Object(o.a)(t);return(e.local?i:r)(e)}},function(t,e,n){"use strict";var r=n(30);e.a=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),r.a.hasOwnProperty(e)?{space:r.a[e],local:t}:t}},function(t,e,n){"use strict";n.d(e,"b",function(){return r});var r="http://www.w3.org/1999/xhtml";e.a={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},function(t,e,n){"use strict";var r=n(32);e.a=function(){for(var t,e=r.c;t=e.sourceEvent;)e=t;return e}},function(t,e,n){"use strict";function r(t,e,n){return t=i(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function i(t,e,n){return function(r){var i=l;l=r;try{t.call(this,this.__data__,e,n)}finally{l=i}}}function o(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function a(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function u(t,e,n){var o=c.hasOwnProperty(t.type)?r:i;return function(r,i,a){var u,s=this.__on,c=o(e,i,a);if(s)for(var l=0,f=s.length;l<f;++l)if((u=s[l]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=c,u.capture=n),void(u.value=e);this.addEventListener(t.type,c,n),u={type:t.type,name:t.name,value:e,listener:c,capture:n},s?s.push(u):this.__on=[u]}}function s(t,e,n,r){var i=l;t.sourceEvent=l,l=t;try{return e.apply(n,r)}finally{l=i}}n.d(e,"c",function(){return l}),e.a=s;var c={},l=null;if("undefined"!=typeof document){"onmouseenter"in document.documentElement||(c={mouseenter:"mouseover",mouseleave:"mouseout"})}e.b=function(t,e,n){var r,i,s=o(t+""),c=s.length;{if(!(arguments.length<2)){for(l=e?u:a,null==n&&(n=!1),r=0;r<c;++r)this.each(l(s[r],e,n));return this}var l=this.node().__on;if(l)for(var f,h=0,p=l.length;h<p;++h)for(r=0,f=l[h];r<c;++r)if((i=s[r]).type===f.type&&i.name===f.name)return f.value}}},function(t,e,n){"use strict";e.a=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}},function(t,e,n){"use strict";function r(){}e.a=function(t){return null==t?r:function(){return this.querySelector(t)}}},function(t,e,n){"use strict";e.a=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}},function(t,e,n){"use strict";var r=n(4),i=n(54),o=n(57),a=n(58),u=n(16),s=n(59),c=n(60),l=n(56);e.a=function(t,e){var n,f=typeof e;return null==e||"boolean"===f?Object(l.a)(e):("number"===f?u.a:"string"===f?(n=Object(r.color)(e))?(e=n,i.a):c.a:e instanceof r.color?i.a:e instanceof Date?a.a:Array.isArray(e)?o.a:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?s.a:u.a)(t,e)}},function(t,e,n){"use strict";function r(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}e.a=r,e.b=function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[i],a=t[i+1],u=i>0?t[i-1]:2*o-a,s=i<e-1?t[i+2]:2*a-o;return r((n-i/e)*e,u,o,a,s)}}},function(t,e,n){"use strict";var r=n(8),i=n(6),o=n(17),a=n(39);e.a=function(){function t(t){var i,o,a,f=t.length,h=!1;for(null==s&&(l=c(a=Object(r.path)())),i=0;i<=f;++i)!(i<f&&u(o=t[i],i,t))===h&&((h=!h)?l.lineStart():l.lineEnd()),h&&l.point(+e(o,i,t),+n(o,i,t));if(a)return l=null,a+""||null}var e=a.a,n=a.b,u=Object(i.a)(!0),s=null,c=o.a,l=null;return t.x=function(n){return arguments.length?(e="function"==typeof n?n:Object(i.a)(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:Object(i.a)(+e),t):n},t.defined=function(e){return arguments.length?(u="function"==typeof e?e:Object(i.a)(!!e),t):u},t.curve=function(e){return arguments.length?(c=e,null!=s&&(l=c(s)),t):c},t.context=function(e){return arguments.length?(null==e?s=l=null:l=c(s=e),t):s},t}},function(t,e,n){"use strict";function r(t){return t[0]}function i(t){return t[1]}e.a=r,e.b=i},function(t,e,n){"use strict";function r(t,e,n){var r=t._x1,i=t._y1,a=t._x2,u=t._y2;if(t._l01_a>o.f){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>o.f){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,f=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*l+t._x1*t._l23_2a-e*t._l12_2a)/f,u=(u*l+t._y1*t._l23_2a-n*t._l12_2a)/f}t._context.bezierCurveTo(r,i,a,u,t._x2,t._y2)}function i(t,e){this._context=t,this._alpha=e}e.b=r;var o=n(11),a=n(20);i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:r(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},e.a=function t(e){function n(t){return e?new i(t,e):new a.a(t,0)}return n.alpha=function(e){return t(+e)},n}(.5)},function(t,e,n){"use strict";function r(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}e.b=r;var i=n(13);e.a=function(t){var e=t.map(r);return Object(i.a)(t).sort(function(t,n){return e[t]-e[n]})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(43);n.d(e,"now",function(){return r.b}),n.d(e,"timer",function(){return r.c}),n.d(e,"timerFlush",function(){return r.d});var i=n(168);n.d(e,"timeout",function(){return i.a});var o=n(169);n.d(e,"interval",function(){return o.a})},function(t,e,n){"use strict";function r(){return g||(x(i),g=w.now()+b)}function i(){g=0}function o(){this._call=this._time=this._next=null}function a(t,e,n){var r=new o;return r.restart(t,e,n),r}function u(){r(),++_;for(var t,e=h;e;)(t=g-e._time)>=0&&e._call.call(null,t),e=e._next;--_}function s(){g=(m=w.now())+b,_=d=0;try{u()}finally{_=0,l(),g=0}}function c(){var t=w.now(),e=t-m;e>y&&(b-=e,m=t)}function l(){for(var t,e,n=h,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:h=e);p=t,f(r)}function f(t){if(!_){d&&(d=clearTimeout(d));var e=t-g;e>24?(t<1/0&&(d=setTimeout(s,e)),v&&(v=clearInterval(v))):(v||(m=g,v=setInterval(c,y)),_=1,x(s))}}e.b=r,e.a=o,e.c=a,e.d=u;var h,p,_=0,d=0,v=0,y=1e3,m=0,g=0,b=0,w="object"==typeof performance&&performance.now?performance:Date,x="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};o.prototype=a.prototype={constructor:o,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?r():+n)+(null==e?0:+e),this._next||p===this||(p?p._next=this:h=this,p=this),this._call=t,this._time=n,f()},stop:function(){this._call&&(this._call=null,this._time=1/0,f())}}},function(t,e,n){function r(t,e,n){var r=e&&n||0;"string"==typeof t&&(e="binary"==t?new Array(16):null,t=null),t=t||{};var a=t.random||(t.rng||i)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e)for(var u=0;u<16;++u)e[r+u]=a[u];return e||o(a)}var i=n(198),o=n(200);t.exports=r},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var r=Math.PI/180,i=180/Math.PI},function(t,e,n){"use strict";var r=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var i=document.documentElement;if(!i.matches){var o=i.webkitMatchesSelector||i.msMatchesSelector||i.mozMatchesSelector||i.oMatchesSelector;r=function(t){return function(){return o.call(this,t)}}}}e.a=r},function(t,e,n){"use strict";function r(){return[]}e.a=function(t){return null==t?r:function(){return this.querySelectorAll(t)}}},function(t,e,n){"use strict";function r(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}e.a=r;var i=n(49),o=n(2);e.b=function(){return new o.a(this._enter||this._groups.map(i.a),this._parents)},r.prototype={constructor:r,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}}},function(t,e,n){"use strict";e.a=function(t){return new Array(t.length)}},function(t,e,n){"use strict";function r(t){return function(){this.style.removeProperty(t)}}function i(t,e,n){return function(){this.style.setProperty(t,e,n)}}function o(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function a(t,e){return t.style.getPropertyValue(e)||Object(u.a)(t).getComputedStyle(t,null).getPropertyValue(e)}e.b=a;var u=n(35);e.a=function(t,e,n){return arguments.length>1?this.each((null==e?r:"function"==typeof e?o:i)(t,e,null==n?"":n)):a(this.node(),t)}},function(t,e,n){"use strict";function r(t,e){var n=t.document.documentElement,r=Object(i.select)(t).on("dragstart.drag",null);e&&(r.on("click.drag",o.a,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}e.b=r;var i=n(0),o=n(52);e.a=function(t){var e=t.document.documentElement,n=Object(i.select)(t).on("dragstart.drag",o.a,!0);"onselectstart"in e?n.on("selectstart.drag",o.a,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}},function(t,e,n){"use strict";function r(){i.event.stopImmediatePropagation()}e.b=r;var i=n(0);e.a=function(){i.event.preventDefault(),i.event.stopImmediatePropagation()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(122);n.d(e,"easeLinear",function(){return r.a});var i=n(123);n.d(e,"easeQuad",function(){return i.b}),n.d(e,"easeQuadIn",function(){return i.a}),n.d(e,"easeQuadOut",function(){return i.c}),n.d(e,"easeQuadInOut",function(){return i.b});var o=n(124);n.d(e,"easeCubic",function(){return o.b}),n.d(e,"easeCubicIn",function(){return o.a}),n.d(e,"easeCubicOut",function(){return o.c}),n.d(e,"easeCubicInOut",function(){return o.b});var a=n(125);n.d(e,"easePoly",function(){return a.b}),n.d(e,"easePolyIn",function(){return a.a}),n.d(e,"easePolyOut",function(){return a.c}),n.d(e,"easePolyInOut",function(){return a.b});var u=n(126);n.d(e,"easeSin",function(){return u.b}),n.d(e,"easeSinIn",function(){return u.a}),n.d(e,"easeSinOut",function(){return u.c}),n.d(e,"easeSinInOut",function(){return u.b});var s=n(127);n.d(e,"easeExp",function(){return s.b}),n.d(e,"easeExpIn",function(){return s.a}),n.d(e,"easeExpOut",function(){return s.c}),n.d(e,"easeExpInOut",function(){return s.b});var c=n(128);n.d(e,"easeCircle",function(){return c.b}),n.d(e,"easeCircleIn",function(){return c.a}),n.d(e,"easeCircleOut",function(){return c.c}),n.d(e,"easeCircleInOut",function(){return c.b});var l=n(129);n.d(e,"easeBounce",function(){return l.c}),n.d(e,"easeBounceIn",function(){return l.a}),n.d(e,"easeBounceOut",function(){return l.c}),n.d(e,"easeBounceInOut",function(){return l.b});var f=n(130);n.d(e,"easeBack",function(){return f.b}),n.d(e,"easeBackIn",function(){return f.a}),n.d(e,"easeBackOut",function(){return f.c}),n.d(e,"easeBackInOut",function(){return f.b});var h=n(131);n.d(e,"easeElastic",function(){return h.c}),n.d(e,"easeElasticIn",function(){return h.a}),n.d(e,"easeElasticOut",function(){return h.c}),n.d(e,"easeElasticInOut",function(){return h.b})},function(t,e,n){"use strict";function r(t){return function(e){var n,r,o=e.length,a=new Array(o),u=new Array(o),s=new Array(o);for(n=0;n<o;++n)r=Object(i.rgb)(e[n]),a[n]=r.r||0,u[n]=r.g||0,s[n]=r.b||0;return a=t(a),u=t(u),s=t(s),r.opacity=1,function(t){return r.r=a(t),r.g=u(t),r.b=s(t),r+""}}}n.d(e,"b",function(){return s}),n.d(e,"c",function(){return c});var i=n(4),o=n(37),a=n(55),u=n(10);e.a=function t(e){function n(t,e){var n=r((t=Object(i.rgb)(t)).r,(e=Object(i.rgb)(e)).r),o=r(t.g,e.g),a=r(t.b,e.b),s=Object(u.a)(t.opacity,e.opacity);return function(e){return t.r=n(e),t.g=o(e),t.b=a(e),t.opacity=s(e),t+""}}var r=Object(u.b)(e);return n.gamma=t,n}(1);var s=r(o.b),c=r(a.a)},function(t,e,n){"use strict";var r=n(37);e.a=function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),o=t[(i+e-1)%e],a=t[i%e],u=t[(i+1)%e],s=t[(i+2)%e];return Object(r.a)((n-i/e)*e,o,a,u,s)}}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";var r=n(36);e.a=function(t,e){var n,i=e?e.length:0,o=t?Math.min(i,t.length):0,a=new Array(i),u=new Array(i);for(n=0;n<o;++n)a[n]=Object(r.a)(t[n],e[n]);for(;n<i;++n)u[n]=e[n];return function(t){for(n=0;n<o;++n)u[n]=a[n](t);return u}}},function(t,e,n){"use strict";e.a=function(t,e){var n=new Date;return t=+t,e-=t,function(r){return n.setTime(t+e*r),n}}},function(t,e,n){"use strict";var r=n(36);e.a=function(t,e){var n,i={},o={};null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={});for(n in e)n in t?i[n]=Object(r.a)(t[n],e[n]):o[n]=e[n];return function(t){for(n in i)o[n]=i[n](t);return o}}},function(t,e,n){"use strict";function r(t){return function(){return t}}function i(t){return function(e){return t(e)+""}}var o=n(16),a=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,u=new RegExp(a.source,"g");e.a=function(t,e){var n,s,c,l=a.lastIndex=u.lastIndex=0,f=-1,h=[],p=[];for(t+="",e+="";(n=a.exec(t))&&(s=u.exec(e));)(c=s.index)>l&&(c=e.slice(l,c),h[f]?h[f]+=c:h[++f]=c),(n=n[0])===(s=s[0])?h[f]?h[f]+=s:h[++f]=s:(h[++f]=null,p.push({i:f,x:Object(o.a)(n,s)})),l=u.lastIndex;return l<e.length&&(c=e.slice(l),h[f]?h[f]+=c:h[++f]=c),h.length<2?p[0]?i(p[0].x):r(e):(e=p.length,function(t){for(var n,r=0;r<e;++r)h[(n=p[r]).i]=n.x(t);return h.join("")})}},function(t,e,n){"use strict";var r=n(8),i=n(6),o=n(17),a=n(38),u=n(39);e.a=function(){function t(t){var e,i,o,a,u,d=t.length,v=!1,y=new Array(d),m=new Array(d);for(null==h&&(_=p(u=Object(r.path)())),e=0;e<=d;++e){if(!(e<d&&f(a=t[e],e,t))===v)if(v=!v)i=e,_.areaStart(),_.lineStart();else{for(_.lineEnd(),_.lineStart(),o=e-1;o>=i;--o)_.point(y[o],m[o]);_.lineEnd(),_.areaEnd()}v&&(y[e]=+n(a,e,t),m[e]=+c(a,e,t),_.point(s?+s(a,e,t):y[e],l?+l(a,e,t):m[e]))}if(u)return _=null,u+""||null}function e(){return Object(a.a)().defined(f).curve(p).context(h)}var n=u.a,s=null,c=Object(i.a)(0),l=u.b,f=Object(i.a)(!0),h=null,p=o.a,_=null;return t.x=function(e){return arguments.length?(n="function"==typeof e?e:Object(i.a)(+e),s=null,t):n},t.x0=function(e){return arguments.length?(n="function"==typeof e?e:Object(i.a)(+e),t):n},t.x1=function(e){return arguments.length?(s=null==e?null:"function"==typeof e?e:Object(i.a)(+e),t):s},t.y=function(e){return arguments.length?(c="function"==typeof e?e:Object(i.a)(+e),l=null,t):c},t.y0=function(e){return arguments.length?(c="function"==typeof e?e:Object(i.a)(+e),t):c},t.y1=function(e){return arguments.length?(l=null==e?null:"function"==typeof e?e:Object(i.a)(+e),t):l},t.lineX0=t.lineY0=function(){return e().x(n).y(c)},t.lineY1=function(){return e().x(n).y(l)},t.lineX1=function(){return e().x(s).y(c)},t.defined=function(e){return arguments.length?(f="function"==typeof e?e:Object(i.a)(!!e),t):f},t.curve=function(e){return arguments.length?(p=e,null!=h&&(_=p(h)),t):p},t.context=function(e){return arguments.length?(null==e?h=_=null:_=p(h=e),t):h},t}},function(t,e,n){"use strict";function r(t){this._curve=t}function i(t){function e(e){return new r(t(e))}return e._curve=t,e}n.d(e,"a",function(){return a}),e.b=i;var o=n(17),a=i(o.a);r.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}}},function(t,e,n){"use strict";function r(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(Object(i.b)(t)):e()._curve},t}e.b=r;var i=n(62),o=n(38);e.a=function(){return r(Object(o.a)().curve(i.a))}},function(t,e,n){"use strict";e.a=function(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=Array.prototype.slice},function(t,e,n){"use strict";var r=n(11);e.a={draw:function(t,e){var n=Math.sqrt(e/r.j);t.moveTo(n,0),t.arc(0,0,n,0,r.m)}}},function(t,e,n){"use strict";e.a={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}}},function(t,e,n){"use strict";var r=Math.sqrt(1/3),i=2*r;e.a={draw:function(t,e){var n=Math.sqrt(e/i),o=n*r;t.moveTo(0,-n),t.lineTo(o,0),t.lineTo(0,n),t.lineTo(-o,0),t.closePath()}}},function(t,e,n){"use strict";var r=n(11),i=Math.sin(r.j/10)/Math.sin(7*r.j/10),o=Math.sin(r.m/10)*i,a=-Math.cos(r.m/10)*i;e.a={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),i=o*n,u=a*n;t.moveTo(0,-n),t.lineTo(i,u);for(var s=1;s<5;++s){var c=r.m*s/5,l=Math.cos(c),f=Math.sin(c);t.lineTo(f*n,-l*n),t.lineTo(l*i-f*u,f*i+l*u)}t.closePath()}}},function(t,e,n){"use strict";e.a={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}}},function(t,e,n){"use strict";var r=Math.sqrt(3);e.a={draw:function(t,e){var n=-Math.sqrt(e/(3*r));t.moveTo(0,2*n),t.lineTo(-r*n,-n),t.lineTo(r*n,-n),t.closePath()}}},function(t,e,n){"use strict";var r=-.5,i=Math.sqrt(3)/2,o=1/Math.sqrt(12),a=3*(o/2+1);e.a={draw:function(t,e){var n=Math.sqrt(e/a),u=n/2,s=n*o,c=u,l=n*o+n,f=-c,h=l;t.moveTo(u,s),t.lineTo(c,l),t.lineTo(f,h),t.lineTo(r*u-i*s,i*u+r*s),t.lineTo(r*c-i*l,i*c+r*l),t.lineTo(r*f-i*h,i*f+r*h),t.lineTo(r*u+i*s,r*s-i*u),t.lineTo(r*c+i*l,r*l-i*c),t.lineTo(r*f+i*h,r*h-i*f),t.closePath()}}},function(t,e,n){"use strict";function r(t,e){this._context=t,this._k=(1-e)/6}e.a=r;var i=n(18),o=n(20);r.prototype={areaStart:i.a,areaEnd:i.a,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Object(o.c)(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},e.b=function t(e){function n(t){return new r(t,e)}return n.tension=function(e){return t(+e)},n}(0)},function(t,e,n){"use strict";function r(t,e){this._context=t,this._k=(1-e)/6}e.a=r;var i=n(20);r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Object(i.c)(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},e.b=function t(e){function n(t){return new r(t,e)}return n.tension=function(e){return t(+e)},n}(0)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(n(170),n(5));n.d(e,"transition",function(){return r.b});var i=n(189);n.d(e,"active",function(){return i.a});var o=n(76);n.d(e,"interrupt",function(){return o.a})},function(t,e,n){"use strict";var r=n(3);e.a=function(t,e){var n,i,o,a=t.__transition,u=!0;if(a){e=null==e?null:e+"";for(o in a)(n=a[o]).name===e?(i=n.state>r.d&&n.state<r.b,n.state=r.a,n.timer.stop(),i&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete a[o]):u=!1;u&&delete t.__transition}}},function(t,e,n){"use strict";var r=n(4),i=n(15);e.a=function(t,e){var n;return("number"==typeof e?i.interpolateNumber:e instanceof r.color?i.interpolateRgb:(n=Object(r.color)(e))?(e=n,i.interpolateRgb):i.interpolateString)(t,e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(210),i=n(7),o=n(14),a=n(24),u=function(){function t(t,e,n){this.workflow=t,this.dispatch=e,this.canvas=n}return t.prototype.render=function(){var t=this.workflow.getAllLevels(),e=this.canvas.selectAll(this.getSelector()).data(this.getLevelData(t));e.enter().append("rect").merge(e).attrs(this.getAttributes()).on("mouseenter",function(t){t.isMouseOver=!0}).on("mouseleave",function(t){t.isMouseOver=!1}),e.exit().remove()},t.prototype.getLevelData=function(t){var e=this,n=[];return t.forEach(function(t){n.push(new r.LevelData(t,e.dispatch))}),n},t.prototype.getSelector=function(){return"rect.wd-background-section"},t.prototype.getAttributes=function(){var t=this;return{id:function(t){return"level-"+t.level.id},x:function(e){var n=t.workflow.getAllLevels(),r=n.findIndex(function(t){return t===e.level});return t.getWidthOfLevels(0,r-1)},y:function(t){return 0},width:function(e){return t.getLevelWidth(e.level)},height:function(e){return t.getMaxLevelHeight()},class:function(e){return t.getClasses(e)}}},t.prototype.getClasses=function(t){return"wd-background-section wd-transparent"},t.prototype.getTotalWidth=function(){var t=this,e=0;return this.workflow.getAllLevels().forEach(function(n){e+=t.getLevelWidth(n)}),e},t.prototype.getMaxLevelHeight=function(){var t=this.workflow.getMaxLevel();return this.getLevelHeight(t)},t.prototype.getWidthOfLevels=function(t,e){for(var n=0,r=this.workflow.getAllLevels(),i=t;i<=e;i++)n+=this.getLevelWidth(r[i]);return n},t.prototype.getLevelWidth=function(t){var e=t.items,n=0,r=0;switch(e.length>0&&(n=o.ItemView.getItemWidth(e[0].type)),t.type){case i.LevelType.Start:r=a.WorkflowDesignerConfig.startLevelItemSpacingX;break;case i.LevelType.Workflow:r=a.WorkflowDesignerConfig.workflowLevelItemSpacingX;break;case i.LevelType.Intermediate:r=a.WorkflowDesignerConfig.intermediateLevelItemSpacingX;break;case i.LevelType.End:r=a.WorkflowDesignerConfig.endLevelItemSpacingX}return n+2*r},t.prototype.getLevelHeight=function(t){var e=t.items,n=0,r=0,u=0,s=0;switch(t.type){case i.LevelType.Start:n=a.WorkflowDesignerConfig.startLevelItemSpacingY;break;case i.LevelType.Workflow:n=a.WorkflowDesignerConfig.workflowLevelItemSpacingY;break;case i.LevelType.Intermediate:n=a.WorkflowDesignerConfig.intermediateLevelItemSpacingY;break;case i.LevelType.End:n=a.WorkflowDesignerConfig.endLevelItemSpacingY}return s=2*n,e.length>0&&(r=o.ItemView.getItemHeight(e[0].type)*e.length,u=n*(e.length-1)*2),r+u+s},t}();e.LevelView=u},function(t,e,n){n(80),t.exports=n(81)},function(t,e){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(9),i=n(196),o=n(208),a=n(209),u=function(){function t(){}return t.prototype.init=function(t){var e=r.select("#"+t);this.dispatch=r.dispatch("workflowitemdragstart","workflowitemdrag","workflowitemdragend","workflowitemdrop","workflowitemremoveclicked"),this.svg=e.append("svg"),this.workflow=new i.Workflow,this.workflowView=new a.WorkflowView(this.workflow,this.dispatch,this.svg),this.render()},t.prototype.insertItem=function(t,e){var n=new o.WorkflowItem;n.title=e,this.workflow.insertItemAfter(t,n),this.render()},t.prototype.addItem=function(t,e){var n=new o.WorkflowItem;n.title=e,this.workflow.addItem(t,n),this.render()},t.prototype.render=function(){this.workflowView.render()},t}();e.WorkflowDesigner=u},function(t,e,n){"use strict";function r(t){if(t instanceof o)return new o(t.l,t.a,t.b,t.opacity);if(t instanceof h){var e=t.h*d.a;return new o(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof _.b||(t=Object(_.h)(t));var n=c(t.r),r=c(t.g),i=c(t.b),u=a((.4124564*n+.3575761*r+.1804375*i)/v),s=a((.2126729*n+.7151522*r+.072175*i)/y);return new o(116*s-16,500*(u-s),200*(s-a((.0193339*n+.119192*r+.9503041*i)/m)),t.opacity)}function i(t,e,n,i){return 1===arguments.length?r(t):new o(t,e,n,null==i?1:i)}function o(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function a(t){return t>x?Math.pow(t,1/3):t/w+g}function u(t){return t>b?t*t*t:w*(t-g)}function s(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function c(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function l(t){if(t instanceof h)return new h(t.h,t.c,t.l,t.opacity);t instanceof o||(t=r(t));var e=Math.atan2(t.b,t.a)*d.b;return new h(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function f(t,e,n,r){return 1===arguments.length?l(t):new h(t,e,n,null==r?1:r)}function h(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}e.a=i,e.b=f;var p=n(26),_=n(25),d=n(45),v=.95047,y=1,m=1.08883,g=4/29,b=6/29,w=3*b*b,x=b*b*b;Object(p.a)(o,i,Object(p.b)(_.a,{brighter:function(t){return new o(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new o(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=y*u(t),e=v*u(e),n=m*u(n),new _.b(s(3.2404542*e-1.5371385*t-.4985314*n),s(-.969266*e+1.8760108*t+.041556*n),s(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),Object(p.a)(h,f,Object(p.b)(_.a,{brighter:function(t){return new h(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new h(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return r(this).rgb()}}))},function(t,e,n){"use strict";function r(t){if(t instanceof o)return new o(t.h,t.s,t.l,t.opacity);t instanceof u.b||(t=Object(u.h)(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(v*r+_*e-d*n)/(v+_-d),a=r-i,c=(p*(n-i)-f*a)/h,l=Math.sqrt(c*c+a*a)/(p*i*(1-i)),y=l?Math.atan2(c,a)*s.b-120:NaN;return new o(y<0?y+360:y,l,i,t.opacity)}function i(t,e,n,i){return 1===arguments.length?r(t):new o(t,e,n,null==i?1:i)}function o(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}e.a=i;var a=n(26),u=n(25),s=n(45),c=-.14861,l=1.78277,f=-.29227,h=-.90649,p=1.97294,_=p*h,d=p*l,v=l*f-h*c;Object(a.a)(o,i,Object(a.b)(u.a,{brighter:function(t){return t=null==t?u.c:Math.pow(u.c,t),new o(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?u.d:Math.pow(u.d,t),new o(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*s.a,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new u.b(255*(e+n*(c*r+l*i)),255*(e+n*(f*r+h*i)),255*(e+n*(p*r)),this.opacity)}}))},function(t,e,n){"use strict";function r(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new i(r)}function i(t){this._=t}function o(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}function a(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function u(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=s,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}var s={value:function(){}};i.prototype=r.prototype={constructor:i,on:function(t,e){var n,r=this._,i=o(t+"",r),s=-1,c=i.length;{if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++s<c;)if(n=(t=i[s]).type)r[n]=u(r[n],t.name,e);else if(null==e)for(n in r)r[n]=u(r[n],t.name,null);return this}for(;++s<c;)if((n=(t=i[s]).type)&&(n=a(r[n],t.name)))return n}},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new i(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],o=0,n=r.length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}},e.a=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(86);n.d(e,"drag",function(){return r.a});var i=n(51);n.d(e,"dragDisable",function(){return i.a}),n.d(e,"dragEnable",function(){return i.b})},function(t,e,n){"use strict";function r(){return!s.event.button}function i(){return this.parentNode}function o(t){return null==t?{x:s.event.x,y:s.event.y}:t}function a(){return"ontouchstart"in this}var u=n(27),s=n(0),c=n(51),l=n(52),f=n(120),h=n(121);e.a=function(){function t(t){t.on("mousedown.drag",e).filter(I).on("touchstart.drag",_).on("touchmove.drag",d).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function e(){if(!w&&x.apply(this,arguments)){var t=y("mouse",O.apply(this,arguments),s.mouse,this,arguments);t&&(Object(s.select)(s.event.view).on("mousemove.drag",n,!0).on("mouseup.drag",p,!0),Object(c.a)(s.event.view),Object(l.b)(),b=!1,m=s.event.clientX,g=s.event.clientY,t("start"))}}function n(){if(Object(l.a)(),!b){var t=s.event.clientX-m,e=s.event.clientY-g;b=t*t+e*e>L}k.mouse("drag")}function p(){Object(s.select)(s.event.view).on("mousemove.drag mouseup.drag",null),Object(c.b)(s.event.view,b),Object(l.a)(),k.mouse("end")}function _(){if(x.apply(this,arguments)){var t,e,n=s.event.changedTouches,r=O.apply(this,arguments),i=n.length;for(t=0;t<i;++t)(e=y(n[t].identifier,r,s.touch,this,arguments))&&(Object(l.b)(),e("start"))}}function d(){var t,e,n=s.event.changedTouches,r=n.length;for(t=0;t<r;++t)(e=k[n[t].identifier])&&(Object(l.a)(),e("drag"))}function v(){var t,e,n=s.event.changedTouches,r=n.length;for(w&&clearTimeout(w),w=setTimeout(function(){w=null},500),t=0;t<r;++t)(e=k[n[t].identifier])&&(Object(l.b)(),e("end"))}function y(e,n,r,i,o){var a,u,c,l=r(n,e),f=M.copy();if(Object(s.customEvent)(new h.a(t,"beforestart",a,e,T,l[0],l[1],0,0,f),function(){return null!=(s.event.subject=a=j.apply(i,o))&&(u=a.x-l[0]||0,c=a.y-l[1]||0,!0)}))return function p(_){var d,v=l;switch(_){case"start":k[e]=p,d=T++;break;case"end":delete k[e],--T;case"drag":l=r(n,e),d=T}Object(s.customEvent)(new h.a(t,_,a,e,d,l[0]+u,l[1]+c,l[0]-v[0],l[1]-v[1],f),f.apply,f,[_,i,o])}}var m,g,b,w,x=r,O=i,j=o,I=a,k={},M=Object(u.dispatch)("start","drag","end"),T=0,L=0;return t.filter=function(e){return arguments.length?(x="function"==typeof e?e:Object(f.a)(!!e),t):x},t.container=function(e){return arguments.length?(O="function"==typeof e?e:Object(f.a)(e),t):O},t.subject=function(e){return arguments.length?(j="function"==typeof e?e:Object(f.a)(e),t):j},t.touchable=function(e){return arguments.length?(I="function"==typeof e?e:Object(f.a)(!!e),t):I},t.on=function(){var e=M.on.apply(M,arguments);return e===M?t:e},t.clickDistance=function(e){return arguments.length?(L=(e=+e)*e,t):Math.sqrt(L)},t}},function(t,e,n){"use strict";function r(){return new i}function i(){this._="@"+(++o).toString(36)}e.a=r;var o=0;i.prototype=r.prototype={constructor:i,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}}},function(t,e,n){"use strict";var r=n(31),i=n(33);e.a=function(t){var e=Object(r.a)();return e.changedTouches&&(e=e.changedTouches[0]),Object(i.a)(t,e)}},function(t,e,n){"use strict";var r=n(2);e.a=function(t){return"string"==typeof t?new r.a([[document.querySelector(t)]],[document.documentElement]):new r.a([[t]],r.c)}},function(t,e,n){"use strict";var r=n(2),i=n(34);e.a=function(t){"function"!=typeof t&&(t=Object(i.a)(t));for(var e=this._groups,n=e.length,o=new Array(n),a=0;a<n;++a)for(var u,s,c=e[a],l=c.length,f=o[a]=new Array(l),h=0;h<l;++h)(u=c[h])&&(s=t.call(u,u.__data__,h,c))&&("__data__"in u&&(s.__data__=u.__data__),f[h]=s);return new r.a(o,this._parents)}},function(t,e,n){"use strict";var r=n(2),i=n(47);e.a=function(t){"function"!=typeof t&&(t=Object(i.a)(t));for(var e=this._groups,n=e.length,o=[],a=[],u=0;u<n;++u)for(var s,c=e[u],l=c.length,f=0;f<l;++f)(s=c[f])&&(o.push(t.call(s,s.__data__,f,c)),a.push(s));return new r.a(o,a)}},function(t,e,n){"use strict";var r=n(2),i=n(46);e.a=function(t){"function"!=typeof t&&(t=Object(i.a)(t));for(var e=this._groups,n=e.length,o=new Array(n),a=0;a<n;++a)for(var u,s=e[a],c=s.length,l=o[a]=[],f=0;f<c;++f)(u=s[f])&&t.call(u,u.__data__,f,s)&&l.push(u);return new r.a(o,this._parents)}},function(t,e,n){"use strict";function r(t,e,n,r,i,o){for(var u,s=0,c=e.length,l=o.length;s<l;++s)(u=e[s])?(u.__data__=o[s],r[s]=u):n[s]=new a.a(t,o[s]);for(;s<c;++s)(u=e[s])&&(i[s]=u)}function i(t,e,n,r,i,o,u){var c,l,f,h={},p=e.length,_=o.length,d=new Array(p);for(c=0;c<p;++c)(l=e[c])&&(d[c]=f=s+u.call(l,l.__data__,c,e),f in h?i[c]=l:h[f]=l);for(c=0;c<_;++c)f=s+u.call(t,o[c],c,o),(l=h[f])?(r[c]=l,l.__data__=o[c],h[f]=null):n[c]=new a.a(t,o[c]);for(c=0;c<p;++c)(l=e[c])&&h[d[c]]===l&&(i[c]=l)}var o=n(2),a=n(48),u=n(94),s="$";e.a=function(t,e){if(!t)return y=new Array(this.size()),p=-1,this.each(function(t){y[++p]=t}),y;var n=e?i:r,a=this._parents,s=this._groups;"function"!=typeof t&&(t=Object(u.a)(t));for(var c=s.length,l=new Array(c),f=new Array(c),h=new Array(c),p=0;p<c;++p){var _=a[p],d=s[p],v=d.length,y=t.call(_,_&&_.__data__,p,a),m=y.length,g=f[p]=new Array(m),b=l[p]=new Array(m);n(_,d,g,b,h[p]=new Array(v),y,e);for(var w,x,O=0,j=0;O<m;++O)if(w=g[O]){for(O>=j&&(j=O+1);!(x=b[j])&&++j<m;);w._next=x||null}}return l=new o.a(l,a),l._enter=f,l._exit=h,l}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";var r=n(49),i=n(2);e.a=function(){return new i.a(this._exit||this._groups.map(r.a),this._parents)}},function(t,e,n){"use strict";var r=n(2);e.a=function(t){for(var e=this._groups,n=t._groups,i=e.length,o=n.length,a=Math.min(i,o),u=new Array(i),s=0;s<a;++s)for(var c,l=e[s],f=n[s],h=l.length,p=u[s]=new Array(h),_=0;_<h;++_)(c=l[_]||f[_])&&(p[_]=c);for(;s<i;++s)u[s]=e[s];return new r.a(u,this._parents)}},function(t,e,n){"use strict";e.a=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this}},function(t,e,n){"use strict";function r(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var i=n(2);e.a=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=r);for(var n=this._groups,o=n.length,a=new Array(o),u=0;u<o;++u){for(var s,c=n[u],l=c.length,f=a[u]=new Array(l),h=0;h<l;++h)(s=c[h])&&(f[h]=s);f.sort(e)}return new i.a(a,this._parents).order()}},function(t,e,n){"use strict";e.a=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}},function(t,e,n){"use strict";e.a=function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t}},function(t,e,n){"use strict";e.a=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}},function(t,e,n){"use strict";e.a=function(){var t=0;return this.each(function(){++t}),t}},function(t,e,n){"use strict";e.a=function(){return!this.node()}},function(t,e,n){"use strict";e.a=function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this}},function(t,e,n){"use strict";function r(t){return function(){this.removeAttribute(t)}}function i(t){return function(){this.removeAttributeNS(t.space,t.local)}}function o(t,e){return function(){this.setAttribute(t,e)}}function a(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function u(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function s(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var c=n(29);e.a=function(t,e){var n=Object(c.a)(t);if(arguments.length<2){var l=this.node();return n.local?l.getAttributeNS(n.space,n.local):l.getAttribute(n)}return this.each((null==e?n.local?i:r:"function"==typeof e?n.local?s:u:n.local?a:o)(n,e))}},function(t,e,n){"use strict";function r(t){return function(){delete this[t]}}function i(t,e){return function(){this[t]=e}}function o(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}e.a=function(t,e){return arguments.length>1?this.each((null==e?r:"function"==typeof e?o:i)(t,e)):this.node()[t]}},function(t,e,n){"use strict";function r(t){return t.trim().split(/^|\s+/)}function i(t){return t.classList||new o(t)}function o(t){this._node=t,this._names=r(t.getAttribute("class")||"")}function a(t,e){for(var n=i(t),r=-1,o=e.length;++r<o;)n.add(e[r])}function u(t,e){for(var n=i(t),r=-1,o=e.length;++r<o;)n.remove(e[r])}function s(t){return function(){a(this,t)}}function c(t){return function(){u(this,t)}}function l(t,e){return function(){(e.apply(this,arguments)?a:u)(this,t)}}o.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}},e.a=function(t,e){var n=r(t+"");if(arguments.length<2){for(var o=i(this.node()),a=-1,u=n.length;++a<u;)if(!o.contains(n[a]))return!1;return!0}return this.each(("function"==typeof e?l:e?s:c)(n,e))}},function(t,e,n){"use strict";function r(){this.textContent=""}function i(t){return function(){this.textContent=t}}function o(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}e.a=function(t){return arguments.length?this.each(null==t?r:("function"==typeof t?o:i)(t)):this.node().textContent}},function(t,e,n){"use strict";function r(){this.innerHTML=""}function i(t){return function(){this.innerHTML=t}}function o(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}e.a=function(t){return arguments.length?this.each(null==t?r:("function"==typeof t?o:i)(t)):this.node().innerHTML}},function(t,e,n){"use strict";function r(){this.nextSibling&&this.parentNode.appendChild(this)}e.a=function(){return this.each(r)}},function(t,e,n){"use strict";function r(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}e.a=function(){return this.each(r)}},function(t,e,n){"use strict";var r=n(28);e.a=function(t){var e="function"==typeof t?t:Object(r.a)(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}},function(t,e,n){"use strict";function r(){return null}var i=n(28),o=n(34);e.a=function(t,e){var n="function"==typeof t?t:Object(i.a)(t),a=null==e?r:"function"==typeof e?e:Object(o.a)(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),a.apply(this,arguments)||null)})}},function(t,e,n){"use strict";function r(){var t=this.parentNode;t&&t.removeChild(this)}e.a=function(){return this.each(r)}},function(t,e,n){"use strict";e.a=function(t){return arguments.length?this.property("__data__",t):this.node().__data__}},function(t,e,n){"use strict";function r(t,e,n){var r=Object(a.a)(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function i(t,e){return function(){return r(this,t,e)}}function o(t,e){return function(){return r(this,t,e.apply(this,arguments))}}var a=n(35);e.a=function(t,e){return this.each(("function"==typeof e?o:i)(t,e))}},function(t,e,n){"use strict";var r=n(2);e.a=function(t){return"string"==typeof t?new r.a([document.querySelectorAll(t)],[document.documentElement]):new r.a([null==t?[]:t],r.c)}},function(t,e,n){"use strict";var r=n(31),i=n(33);e.a=function(t,e,n){arguments.length<3&&(n=e,e=Object(r.a)().changedTouches);for(var o,a=0,u=e?e.length:0;a<u;++a)if((o=e[a]).identifier===n)return Object(i.a)(t,o);return null}},function(t,e,n){"use strict";var r=n(31),i=n(33);e.a=function(t,e){null==e&&(e=Object(r.a)().touches);for(var n=0,o=e?e.length:0,a=new Array(o);n<o;++n)a[n]=Object(i.a)(t,e[n]);return a}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,u,s,c){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=u,this.dy=s,this._=c}e.a=r,r.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t}},function(t,e,n){"use strict";function r(t){return+t}e.a=r},function(t,e,n){"use strict";function r(t){return t*t}function i(t){return t*(2-t)}function o(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}e.a=r,e.c=i,e.b=o},function(t,e,n){"use strict";function r(t){return t*t*t}function i(t){return--t*t*t+1}function o(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}e.a=r,e.c=i,e.b=o},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"b",function(){return o});var r=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),i=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),o=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3)},function(t,e,n){"use strict";function r(t){return 1-Math.cos(t*u)}function i(t){return Math.sin(t*u)}function o(t){return(1-Math.cos(a*t))/2}e.a=r,e.c=i,e.b=o;var a=Math.PI,u=a/2},function(t,e,n){"use strict";function r(t){return Math.pow(2,10*t-10)}function i(t){return 1-Math.pow(2,-10*t)}function o(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}e.a=r,e.c=i,e.b=o},function(t,e,n){"use strict";function r(t){return 1-Math.sqrt(1-t*t)}function i(t){return Math.sqrt(1- --t*t)}function o(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}e.a=r,e.c=i,e.b=o},function(t,e,n){"use strict";function r(t){return 1-i(1-t)}function i(t){return(t=+t)<a?d*t*t:t<s?d*(t-=u)*t+c:t<f?d*(t-=l)*t+h:d*(t-=p)*t+_}function o(t){return((t*=2)<=1?1-i(1-t):i(t-1)+1)/2}e.a=r,e.c=i,e.b=o;var a=4/11,u=6/11,s=8/11,c=.75,l=9/11,f=10/11,h=.9375,p=21/22,_=63/64,d=1/a/a},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"b",function(){return o});var r=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(1.70158),i=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),o=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158)},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"b",function(){return a});var r=2*Math.PI,i=function t(e,n){function i(t){return e*Math.pow(2,10*--t)*Math.sin((o-t)/n)}var o=Math.asin(1/(e=Math.max(1,e)))*(n/=r);return i.amplitude=function(e){return t(e,n*r)},i.period=function(n){return t(e,n)},i}(1,.3),o=function t(e,n){function i(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+o)/n)}var o=Math.asin(1/(e=Math.max(1,e)))*(n/=r);return i.amplitude=function(e){return t(e,n*r)},i.period=function(n){return t(e,n)},i}(1,.3),a=function t(e,n){function i(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((o-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((o+t)/n))/2}var o=Math.asin(1/(e=Math.max(1,e)))*(n/=r);return i.amplitude=function(e){return t(e,n*r)},i.period=function(n){return t(e,n)},i}(1,.3)},function(t,e,n){"use strict";e.a=function(t,e){return t=+t,e-=t,function(n){return Math.round(t+e*n)}}},function(t,e,n){"use strict";function r(t,e,n,r){function o(t){return t.length?t.pop()+" ":""}function a(t,r,o,a,u,s){if(t!==o||r!==a){var c=u.push("translate(",null,e,null,n);s.push({i:c-4,x:Object(i.a)(t,o)},{i:c-2,x:Object(i.a)(r,a)})}else(o||a)&&u.push("translate("+o+e+a+n)}function u(t,e,n,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:n.push(o(n)+"rotate(",null,r)-2,x:Object(i.a)(t,e)})):e&&n.push(o(n)+"rotate("+e+r)}function s(t,e,n,a){t!==e?a.push({i:n.push(o(n)+"skewX(",null,r)-2,x:Object(i.a)(t,e)}):e&&n.push(o(n)+"skewX("+e+r)}function c(t,e,n,r,a,u){if(t!==n||e!==r){var s=a.push(o(a)+"scale(",null,",",null,")");u.push({i:s-4,x:Object(i.a)(t,n)},{i:s-2,x:Object(i.a)(e,r)})}else 1===n&&1===r||a.push(o(a)+"scale("+n+","+r+")")}return function(e,n){var r=[],i=[];return e=t(e),n=t(n),a(e.translateX,e.translateY,n.translateX,n.translateY,r,i),u(e.rotate,n.rotate,r,i),s(e.skewX,n.skewX,r,i),c(e.scaleX,e.scaleY,n.scaleX,n.scaleY,r,i),e=n=null,function(t){for(var e,n=-1,o=i.length;++n<o;)r[(e=i[n]).i]=e.x(t);return r.join("")}}}n.d(e,"a",function(){return a}),n.d(e,"b",function(){return u});var i=n(16),o=n(134),a=r(o.a,"px, ","px)","deg)"),u=r(o.b,", ",")",")")},function(t,e,n){"use strict";function r(t){return"none"===t?c.b:(o||(o=document.createElement("DIV"),a=document.documentElement,u=document.defaultView),o.style.transform=t,t=u.getComputedStyle(a.appendChild(o),null).getPropertyValue("transform"),a.removeChild(o),t=t.slice(7,-1).split(","),Object(c.a)(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function i(t){return null==t?c.b:(s||(s=document.createElementNS("http://www.w3.org/2000/svg","g")),s.setAttribute("transform",t),(t=s.transform.baseVal.consolidate())?(t=t.matrix,Object(c.a)(t.a,t.b,t.c,t.d,t.e,t.f)):c.b)}e.a=r,e.b=i;var o,a,u,s,c=n(135)},function(t,e,n){"use strict";n.d(e,"b",function(){return i});var r=180/Math.PI,i={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};e.a=function(t,e,n,i,o,a){var u,s,c;return(u=Math.sqrt(t*t+e*e))&&(t/=u,e/=u),(c=t*n+e*i)&&(n-=t*c,i-=e*c),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,c/=s),t*i<e*n&&(t=-t,e=-e,c=-c,u=-u),{translateX:o,translateY:a,rotate:Math.atan2(e,t)*r,skewX:Math.atan(c)*r,scaleX:u,scaleY:s}}},function(t,e,n){"use strict";function r(t){return((t=Math.exp(t))+1/t)/2}function i(t){return((t=Math.exp(t))-1/t)/2}function o(t){return((t=Math.exp(2*t))-1)/(t+1)}var a=Math.SQRT2;e.a=function(t,e){var n,u,s=t[0],c=t[1],l=t[2],f=e[0],h=e[1],p=e[2],_=f-s,d=h-c,v=_*_+d*d;if(v<1e-12)u=Math.log(p/l)/a,n=function(t){return[s+t*_,c+t*d,l*Math.exp(a*t*u)]};else{var y=Math.sqrt(v),m=(p*p-l*l+4*v)/(2*l*2*y),g=(p*p-l*l-4*v)/(2*p*2*y),b=Math.log(Math.sqrt(m*m+1)-m),w=Math.log(Math.sqrt(g*g+1)-g);u=(w-b)/a,n=function(t){var e=t*u,n=r(b),f=l/(2*y)*(n*o(a*e+b)-i(b));return[s+f*_,c+f*d,l*n/r(a*e+b)]}}return n.duration=1e3*u,n}},function(t,e,n){"use strict";function r(t){return function(e,n){var r=t((e=Object(i.hsl)(e)).h,(n=Object(i.hsl)(n)).h),a=Object(o.a)(e.s,n.s),u=Object(o.a)(e.l,n.l),s=Object(o.a)(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=a(t),e.l=u(t),e.opacity=s(t),e+""}}}n.d(e,"b",function(){return a});var i=n(4),o=n(10);e.a=r(o.c);var a=r(o.a)},function(t,e,n){"use strict";function r(t,e){var n=Object(o.a)((t=Object(i.lab)(t)).l,(e=Object(i.lab)(e)).l),r=Object(o.a)(t.a,e.a),a=Object(o.a)(t.b,e.b),u=Object(o.a)(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=a(e),t.opacity=u(e),t+""}}e.a=r;var i=n(4),o=n(10)},function(t,e,n){"use strict";function r(t){return function(e,n){var r=t((e=Object(i.hcl)(e)).h,(n=Object(i.hcl)(n)).h),a=Object(o.a)(e.c,n.c),u=Object(o.a)(e.l,n.l),s=Object(o.a)(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=a(t),e.l=u(t),e.opacity=s(t),e+""}}}n.d(e,"b",function(){return a});var i=n(4),o=n(10);e.a=r(o.c);var a=r(o.a)},function(t,e,n){"use strict";function r(t){return function e(n){function r(e,r){var a=t((e=Object(i.cubehelix)(e)).h,(r=Object(i.cubehelix)(r)).h),u=Object(o.a)(e.s,r.s),s=Object(o.a)(e.l,r.l),c=Object(o.a)(e.opacity,r.opacity);return function(t){return e.h=a(t),e.s=u(t),e.l=s(Math.pow(t,n)),e.opacity=c(t),e+""}}return n=+n,r.gamma=e,r}(1)}n.d(e,"a",function(){return a});var i=n(4),o=n(10);e.b=r(o.c);var a=r(o.a)},function(t,e,n){"use strict";e.a=function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}},function(t,e,n){"use strict";function r(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function i(){return new r}var o=Math.PI,a=2*o,u=a-1e-6;r.prototype=i.prototype={constructor:r,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var a=this._x1,u=this._y1,s=n-t,c=r-e,l=a-t,f=u-e,h=l*l+f*f;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>1e-6)if(Math.abs(f*s-c*l)>1e-6&&i){var p=n-a,_=r-u,d=s*s+c*c,v=p*p+_*_,y=Math.sqrt(d),m=Math.sqrt(h),g=i*Math.tan((o-Math.acos((d+h-v)/(2*y*m)))/2),b=g/m,w=g/y;Math.abs(b-1)>1e-6&&(this._+="L"+(t+b*l)+","+(e+b*f)),this._+="A"+i+","+i+",0,0,"+ +(f*p>l*_)+","+(this._x1=t+w*s)+","+(this._y1=e+w*c)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,s){t=+t,e=+e,n=+n;var c=n*Math.cos(r),l=n*Math.sin(r),f=t+c,h=e+l,p=1^s,_=s?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+f+","+h:(Math.abs(this._x1-f)>1e-6||Math.abs(this._y1-h)>1e-6)&&(this._+="L"+f+","+h),n&&(_<0&&(_=_%a+a),_>u?this._+="A"+n+","+n+",0,1,"+p+","+(t-c)+","+(e-l)+"A"+n+","+n+",0,1,"+p+","+(this._x1=f)+","+(this._y1=h):_>1e-6&&(this._+="A"+n+","+n+",0,"+ +(_>=o)+","+p+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},e.a=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(144);n.d(e,"arc",function(){return r.a});var i=n(61);n.d(e,"area",function(){return i.a});var o=n(38);n.d(e,"line",function(){return o.a});var a=n(145);n.d(e,"pie",function(){return a.a});var u=n(148);n.d(e,"areaRadial",function(){return u.a}),n.d(e,"radialArea",function(){return u.a});var s=n(63);n.d(e,"lineRadial",function(){return s.a}),n.d(e,"radialLine",function(){return s.a});var c=n(64);n.d(e,"pointRadial",function(){return c.a});var l=n(149);n.d(e,"linkHorizontal",function(){return l.a}),n.d(e,"linkVertical",function(){return l.c}),n.d(e,"linkRadial",function(){return l.b});var f=n(150);n.d(e,"symbol",function(){return f.a}),n.d(e,"symbols",function(){return f.b});var h=n(66);n.d(e,"symbolCircle",function(){return h.a});var p=n(67);n.d(e,"symbolCross",function(){return p.a});var _=n(68);n.d(e,"symbolDiamond",function(){return _.a});var d=n(70);n.d(e,"symbolSquare",function(){return d.a});var v=n(69);n.d(e,"symbolStar",function(){return v.a});var y=n(71);n.d(e,"symbolTriangle",function(){return y.a});var m=n(72);n.d(e,"symbolWye",function(){return m.a});var g=n(151);n.d(e,"curveBasisClosed",function(){return g.a});var b=n(152);n.d(e,"curveBasisOpen",function(){return b.a});var w=n(19);n.d(e,"curveBasis",function(){return w.b});var x=n(153);n.d(e,"curveBundle",function(){return x.a});var O=n(73);n.d(e,"curveCardinalClosed",function(){return O.b});var j=n(74);n.d(e,"curveCardinalOpen",function(){return j.b});var I=n(20);n.d(e,"curveCardinal",function(){return I.b});var k=n(154);n.d(e,"curveCatmullRomClosed",function(){return k.a});var M=n(155);n.d(e,"curveCatmullRomOpen",function(){return M.a});var T=n(40);n.d(e,"curveCatmullRom",function(){return T.a});var L=n(156);n.d(e,"curveLinearClosed",function(){return L.a});var A=n(17);n.d(e,"curveLinear",function(){return A.a});var S=n(157);n.d(e,"curveMonotoneX",function(){return S.a}),n.d(e,"curveMonotoneY",function(){return S.b});var C=n(158);n.d(e,"curveNatural",function(){return C.a});var E=n(159);n.d(e,"curveStep",function(){return E.a}),n.d(e,"curveStepAfter",function(){return E.b}),n.d(e,"curveStepBefore",function(){return E.c});var P=n(160);n.d(e,"stack",function(){return P.a});var N=n(161);n.d(e,"stackOffsetExpand",function(){return N.a});var W=n(162);n.d(e,"stackOffsetDiverging",function(){return W.a});var R=n(12);n.d(e,"stackOffsetNone",function(){return R.a});var D=n(163);n.d(e,"stackOffsetSilhouette",function(){return D.a});var q=n(164);n.d(e,"stackOffsetWiggle",function(){return q.a});var V=n(41);n.d(e,"stackOrderAscending",function(){return V.a});var X=n(165);n.d(e,"stackOrderDescending",function(){return X.a});var Y=n(166);n.d(e,"stackOrderInsideOut",function(){return Y.a});var H=n(13);n.d(e,"stackOrderNone",function(){return H.a});var B=n(167);n.d(e,"stackOrderReverse",function(){return B.a})},function(t,e,n){"use strict";function r(t){return t.innerRadius}function i(t){return t.outerRadius}function o(t){return t.startAngle}function a(t){return t.endAngle}function u(t){return t&&t.padAngle}function s(t,e,n,r,i,o,a,u){var s=n-t,c=r-e,l=a-i,f=u-o,h=(l*(e-o)-f*(t-i))/(f*s-l*c);return[t+h*s,e+h*c]}function c(t,e,n,r,i,o,a){var u=t-n,s=e-r,c=(a?o:-o)/Object(h.l)(u*u+s*s),l=c*s,f=-c*u,p=t+l,_=e+f,d=n+l,v=r+f,y=(p+d)/2,m=(_+v)/2,g=d-p,b=v-_,w=g*g+b*b,x=i-o,O=p*v-d*_,j=(b<0?-1:1)*Object(h.l)(Object(h.h)(0,x*x*w-O*O)),I=(O*b-g*j)/w,k=(-O*g-b*j)/w,M=(O*b+g*j)/w,T=(-O*g+b*j)/w,L=I-y,A=k-m,S=M-y,C=T-m;return L*L+A*A>S*S+C*C&&(I=M,k=T),{cx:I,cy:k,x01:-l,y01:-f,x11:I*(i/x-1),y11:k*(i/x-1)}}var l=n(8),f=n(6),h=n(11);e.a=function(){function t(){var t,r,i=+e.apply(this,arguments),o=+n.apply(this,arguments),a=d.apply(this,arguments)-h.g,u=v.apply(this,arguments)-h.g,f=Object(h.a)(u-a),g=u>a;if(m||(m=t=Object(l.path)()),o<i&&(r=o,o=i,i=r),o>h.f)if(f>h.m-h.f)m.moveTo(o*Object(h.e)(a),o*Object(h.k)(a)),m.arc(0,0,o,a,u,!g),i>h.f&&(m.moveTo(i*Object(h.e)(u),i*Object(h.k)(u)),m.arc(0,0,i,u,a,g));else{var b,w,x=a,O=u,j=a,I=u,k=f,M=f,T=y.apply(this,arguments)/2,L=T>h.f&&(_?+_.apply(this,arguments):Object(h.l)(i*i+o*o)),A=Object(h.i)(Object(h.a)(o-i)/2,+p.apply(this,arguments)),S=A,C=A;if(L>h.f){var E=Object(h.c)(L/i*Object(h.k)(T)),P=Object(h.c)(L/o*Object(h.k)(T));(k-=2*E)>h.f?(E*=g?1:-1,j+=E,I-=E):(k=0,j=I=(a+u)/2),(M-=2*P)>h.f?(P*=g?1:-1,x+=P,O-=P):(M=0,x=O=(a+u)/2)}var N=o*Object(h.e)(x),W=o*Object(h.k)(x),R=i*Object(h.e)(I),D=i*Object(h.k)(I);if(A>h.f){var q=o*Object(h.e)(O),V=o*Object(h.k)(O),X=i*Object(h.e)(j),Y=i*Object(h.k)(j);if(f<h.j){var H=k>h.f?s(N,W,X,Y,q,V,R,D):[R,D],B=N-H[0],z=W-H[1],U=q-H[0],$=V-H[1],F=1/Object(h.k)(Object(h.b)((B*U+z*$)/(Object(h.l)(B*B+z*z)*Object(h.l)(U*U+$*$)))/2),Q=Object(h.l)(H[0]*H[0]+H[1]*H[1]);S=Object(h.i)(A,(i-Q)/(F-1)),C=Object(h.i)(A,(o-Q)/(F+1))}}M>h.f?C>h.f?(b=c(X,Y,N,W,o,C,g),w=c(q,V,R,D,o,C,g),m.moveTo(b.cx+b.x01,b.cy+b.y01),C<A?m.arc(b.cx,b.cy,C,Object(h.d)(b.y01,b.x01),Object(h.d)(w.y01,w.x01),!g):(m.arc(b.cx,b.cy,C,Object(h.d)(b.y01,b.x01),Object(h.d)(b.y11,b.x11),!g),m.arc(0,0,o,Object(h.d)(b.cy+b.y11,b.cx+b.x11),Object(h.d)(w.cy+w.y11,w.cx+w.x11),!g),m.arc(w.cx,w.cy,C,Object(h.d)(w.y11,w.x11),Object(h.d)(w.y01,w.x01),!g))):(m.moveTo(N,W),m.arc(0,0,o,x,O,!g)):m.moveTo(N,W),i>h.f&&k>h.f?S>h.f?(b=c(R,D,q,V,i,-S,g),w=c(N,W,X,Y,i,-S,g),m.lineTo(b.cx+b.x01,b.cy+b.y01),S<A?m.arc(b.cx,b.cy,S,Object(h.d)(b.y01,b.x01),Object(h.d)(w.y01,w.x01),!g):(m.arc(b.cx,b.cy,S,Object(h.d)(b.y01,b.x01),Object(h.d)(b.y11,b.x11),!g),m.arc(0,0,i,Object(h.d)(b.cy+b.y11,b.cx+b.x11),Object(h.d)(w.cy+w.y11,w.cx+w.x11),g),m.arc(w.cx,w.cy,S,Object(h.d)(w.y11,w.x11),Object(h.d)(w.y01,w.x01),!g))):m.arc(0,0,i,I,j,g):m.lineTo(R,D)}else m.moveTo(0,0);if(m.closePath(),t)return m=null,t+""||null}var e=r,n=i,p=Object(f.a)(0),_=null,d=o,v=a,y=u,m=null;return t.centroid=function(){var t=(+e.apply(this,arguments)+ +n.apply(this,arguments))/2,r=(+d.apply(this,arguments)+ +v.apply(this,arguments))/2-h.j/2;return[Object(h.e)(r)*t,Object(h.k)(r)*t]},t.innerRadius=function(n){return arguments.length?(e="function"==typeof n?n:Object(f.a)(+n),t):e},t.outerRadius=function(e){return arguments.length?(n="function"==typeof e?e:Object(f.a)(+e),t):n},t.cornerRadius=function(e){return arguments.length?(p="function"==typeof e?e:Object(f.a)(+e),t):p},t.padRadius=function(e){return arguments.length?(_=null==e?null:"function"==typeof e?e:Object(f.a)(+e),t):_},t.startAngle=function(e){return arguments.length?(d="function"==typeof e?e:Object(f.a)(+e),t):d},t.endAngle=function(e){return arguments.length?(v="function"==typeof e?e:Object(f.a)(+e),t):v},t.padAngle=function(e){return arguments.length?(y="function"==typeof e?e:Object(f.a)(+e),t):y},t.context=function(e){return arguments.length?(m=null==e?null:e,t):m},t}},function(t,e,n){"use strict";var r=n(6),i=n(146),o=n(147),a=n(11);e.a=function(){function t(t){var r,i,o,f,h,p=t.length,_=0,d=new Array(p),v=new Array(p),y=+s.apply(this,arguments),m=Math.min(a.m,Math.max(-a.m,c.apply(this,arguments)-y)),g=Math.min(Math.abs(m)/p,l.apply(this,arguments)),b=g*(m<0?-1:1);for(r=0;r<p;++r)(h=v[d[r]=r]=+e(t[r],r,t))>0&&(_+=h);for(null!=n?d.sort(function(t,e){return n(v[t],v[e])}):null!=u&&d.sort(function(e,n){return u(t[e],t[n])}),r=0,o=_?(m-p*b)/_:0;r<p;++r,y=f)i=d[r],h=v[i],f=y+(h>0?h*o:0)+b,v[i]={data:t[i],index:r,value:h,startAngle:y,endAngle:f,padAngle:g};return v}var e=o.a,n=i.a,u=null,s=Object(r.a)(0),c=Object(r.a)(a.m),l=Object(r.a)(0);return t.value=function(n){return arguments.length?(e="function"==typeof n?n:Object(r.a)(+n),t):e},t.sortValues=function(e){return arguments.length?(n=e,u=null,t):n},t.sort=function(e){return arguments.length?(u=e,n=null,t):u},t.startAngle=function(e){return arguments.length?(s="function"==typeof e?e:Object(r.a)(+e),t):s},t.endAngle=function(e){return arguments.length?(c="function"==typeof e?e:Object(r.a)(+e),t):c},t.padAngle=function(e){return arguments.length?(l="function"==typeof e?e:Object(r.a)(+e),t):l},t}},function(t,e,n){"use strict";e.a=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}},function(t,e,n){"use strict";e.a=function(t){return t}},function(t,e,n){"use strict";var r=n(62),i=n(61),o=n(63);e.a=function(){var t=Object(i.a)().curve(r.a),e=t.curve,n=t.lineX0,a=t.lineX1,u=t.lineY0,s=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Object(o.b)(n())},delete t.lineX0,t.lineEndAngle=function(){return Object(o.b)(a())},delete t.lineX1,t.lineInnerRadius=function(){return Object(o.b)(u())},delete t.lineY0,t.lineOuterRadius=function(){return Object(o.b)(s())},delete t.lineY1,t.curve=function(t){return arguments.length?e(Object(r.b)(t)):e()._curve},t}},function(t,e,n){"use strict";function r(t){return t.source}function i(t){return t.target}function o(t){function e(){var e,r=p.a.call(arguments),i=n.apply(this,r),c=o.apply(this,r);if(s||(s=e=Object(h.path)()),t(s,+a.apply(this,(r[0]=i,r)),+u.apply(this,r),+a.apply(this,(r[0]=c,r)),+u.apply(this,r)),e)return s=null,e+""||null}var n=r,o=i,a=d.a,u=d.b,s=null;return e.source=function(t){return arguments.length?(n=t,e):n},e.target=function(t){return arguments.length?(o=t,e):o},e.x=function(t){return arguments.length?(a="function"==typeof t?t:Object(_.a)(+t),e):a},e.y=function(t){return arguments.length?(u="function"==typeof t?t:Object(_.a)(+t),e):u},e.context=function(t){return arguments.length?(s=null==t?null:t,e):s},e}function a(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function u(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+i)/2,r,n,r,i)}function s(t,e,n,r,i){var o=Object(v.a)(e,n),a=Object(v.a)(e,n=(n+i)/2),u=Object(v.a)(r,n),s=Object(v.a)(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(a[0],a[1],u[0],u[1],s[0],s[1])}function c(){return o(a)}function l(){return o(u)}function f(){var t=o(s);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}e.a=c,e.c=l,e.b=f;var h=n(8),p=n(65),_=n(6),d=n(39),v=n(64)},function(t,e,n){"use strict";n.d(e,"b",function(){return h});var r=n(8),i=n(66),o=n(67),a=n(68),u=n(69),s=n(70),c=n(71),l=n(72),f=n(6),h=[i.a,o.a,a.a,s.a,u.a,c.a,l.a];e.a=function(){function t(){var t;if(o||(o=t=Object(r.path)()),e.apply(this,arguments).draw(o,+n.apply(this,arguments)),t)return o=null,t+""||null}var e=Object(f.a)(i.a),n=Object(f.a)(64),o=null;return t.type=function(n){return arguments.length?(e="function"==typeof n?n:Object(f.a)(n),t):e},t.size=function(e){return arguments.length?(n="function"==typeof e?e:Object(f.a)(+e),t):n},t.context=function(e){return arguments.length?(o=null==e?null:e,t):o},t}},function(t,e,n){"use strict";function r(t){this._context=t}var i=n(18),o=n(19);r.prototype={areaStart:i.a,areaEnd:i.a,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Object(o.c)(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},e.a=function(t){return new r(t)}},function(t,e,n){"use strict";function r(t){this._context=t}var i=n(19);r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Object(i.c)(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},e.a=function(t){return new r(t)}},function(t,e,n){"use strict";function r(t,e){this._basis=new i.a(t),this._beta=e}var i=n(19);r.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],a=t[n]-i,u=e[n]-o,s=-1;++s<=n;)r=s/n,this._basis.point(this._beta*t[s]+(1-this._beta)*(i+r*a),this._beta*e[s]+(1-this._beta)*(o+r*u));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}},e.a=function t(e){function n(t){return 1===e?new i.a(t):new r(t,e)}return n.beta=function(e){return t(+e)},n}(.85)},function(t,e,n){"use strict";function r(t,e){this._context=t,this._alpha=e}var i=n(73),o=n(18),a=n(40);r.prototype={areaStart:o.a,areaEnd:o.a,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Object(a.b)(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},e.a=function t(e){function n(t){return e?new r(t,e):new i.a(t,0)}return n.alpha=function(e){return t(+e)},n}(.5)},function(t,e,n){"use strict";function r(t,e){this._context=t,this._alpha=e}var i=n(74),o=n(40);r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Object(o.b)(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},e.a=function t(e){function n(t){return e?new r(t,e):new i.a(t,0)}return n.alpha=function(e){return t(+e)},n}(.5)},function(t,e,n){"use strict";function r(t){this._context=t}var i=n(18);r.prototype={areaStart:i.a,areaEnd:i.a,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},e.a=function(t){return new r(t)}},function(t,e,n){"use strict";function r(t){return t<0?-1:1}function i(t,e,n){var i=t._x1-t._x0,o=e-t._x1,a=(t._y1-t._y0)/(i||o<0&&-0),u=(n-t._y1)/(o||i<0&&-0),s=(a*o+u*i)/(i+o);return(r(a)+r(u))*Math.min(Math.abs(a),Math.abs(u),.5*Math.abs(s))||0}function o(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function a(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*e,o-u,a-u*n,o,a)}function u(t){this._context=t}function s(t){this._context=new c(t)}function c(t){this._context=t}function l(t){return new u(t)}function f(t){return new s(t)}e.a=l,e.b=f,u.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:a(this,this._t0,o(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,t!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,a(this,o(this,n=i(this,t,e)),n);break;default:a(this,this._t0,n=i(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(s.prototype=Object.create(u.prototype)).point=function(t,e){u.prototype.point.call(this,e,t)},c.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}}},function(t,e,n){"use strict";function r(t){this._context=t}function i(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=i(t),o=i(e),a=0,u=1;u<n;++a,++u)this._context.bezierCurveTo(r[0][a],o[0][a],r[1][a],o[1][a],t[u],e[u]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},e.a=function(t){return new r(t)}},function(t,e,n){"use strict";function r(t,e){this._context=t,this._t=e}function i(t){return new r(t,0)}function o(t){return new r(t,1)}e.c=i,e.b=o,r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}},e.a=function(t){return new r(t,.5)}},function(t,e,n){"use strict";function r(t,e){return t[e]}var i=n(65),o=n(6),a=n(12),u=n(13);e.a=function(){function t(t){var r,i,o=e.apply(this,arguments),a=t.length,u=o.length,l=new Array(u);for(r=0;r<u;++r){for(var f,h=o[r],p=l[r]=new Array(a),_=0;_<a;++_)p[_]=f=[0,+c(t[_],h,_,t)],f.data=t[_];p.key=h}for(r=0,i=n(l);r<u;++r)l[i[r]].index=r;return s(l,i),l}var e=Object(o.a)([]),n=u.a,s=a.a,c=r;return t.keys=function(n){return arguments.length?(e="function"==typeof n?n:Object(o.a)(i.a.call(n)),t):e},t.value=function(e){return arguments.length?(c="function"==typeof e?e:Object(o.a)(+e),t):c},t.order=function(e){return arguments.length?(n=null==e?u.a:"function"==typeof e?e:Object(o.a)(i.a.call(e)),t):n},t.offset=function(e){return arguments.length?(s=null==e?a.a:e,t):s},t}},function(t,e,n){"use strict";var r=n(12);e.a=function(t,e){if((i=t.length)>0){for(var n,i,o,a=0,u=t[0].length;a<u;++a){for(o=n=0;n<i;++n)o+=t[n][a][1]||0;if(o)for(n=0;n<i;++n)t[n][a][1]/=o}Object(r.a)(t,e)}}},function(t,e,n){"use strict";e.a=function(t,e){if((u=t.length)>1)for(var n,r,i,o,a,u,s=0,c=t[e[0]].length;s<c;++s)for(o=a=0,n=0;n<u;++n)(i=(r=t[e[n]][s])[1]-r[0])>=0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):r[0]=o}},function(t,e,n){"use strict";var r=n(12);e.a=function(t,e){if((n=t.length)>0){for(var n,i=0,o=t[e[0]],a=o.length;i<a;++i){for(var u=0,s=0;u<n;++u)s+=t[u][i][1]||0;o[i][1]+=o[i][0]=-s/2}Object(r.a)(t,e)}}},function(t,e,n){"use strict";var r=n(12);e.a=function(t,e){if((o=t.length)>0&&(i=(n=t[e[0]]).length)>0){for(var n,i,o,a=0,u=1;u<i;++u){for(var s=0,c=0,l=0;s<o;++s){for(var f=t[e[s]],h=f[u][1]||0,p=f[u-1][1]||0,_=(h-p)/2,d=0;d<s;++d){var v=t[e[d]];_+=(v[u][1]||0)-(v[u-1][1]||0)}c+=h,l+=_*h}n[u-1][1]+=n[u-1][0]=a,c&&(a-=l/c)}n[u-1][1]+=n[u-1][0]=a,Object(r.a)(t,e)}}},function(t,e,n){"use strict";var r=n(41);e.a=function(t){return Object(r.a)(t).reverse()}},function(t,e,n){"use strict";var r=n(13),i=n(41);e.a=function(t){var e,n,o=t.length,a=t.map(i.b),u=Object(r.a)(t).sort(function(t,e){return a[e]-a[t]}),s=0,c=0,l=[],f=[];for(e=0;e<o;++e)n=u[e],s<c?(s+=a[n],l.push(n)):(c+=a[n],f.push(n));return f.reverse().concat(l)}},function(t,e,n){"use strict";var r=n(13);e.a=function(t){return Object(r.a)(t).reverse()}},function(t,e,n){"use strict";var r=n(43);e.a=function(t,e,n){var i=new r.a;return e=null==e?0:+e,i.restart(function(n){i.stop(),t(n+e)},e,n),i}},function(t,e,n){"use strict";var r=n(43);e.a=function(t,e,n){var i=new r.a,o=e;return null==e?(i.restart(t,e,n),i):(e=+e,n=null==n?Object(r.b)():+n,i.restart(function r(a){a+=o,i.restart(r,o+=e,n),t(a)},e,n),i)}},function(t,e,n){"use strict";var r=n(0),i=n(171),o=n(172);r.selection.prototype.interrupt=i.a,r.selection.prototype.transition=o.a},function(t,e,n){"use strict";var r=n(76);e.a=function(t){return this.each(function(){Object(r.a)(this,t)})}},function(t,e,n){"use strict";function r(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return s.time=Object(u.now)(),s;return n}var i=n(5),o=n(3),a=n(53),u=n(42),s={time:null,delay:0,duration:250,ease:a.easeCubicInOut};e.a=function(t){var e,n;t instanceof i.a?(e=t._id,t=t._name):(e=Object(i.c)(),(n=s).time=Object(u.now)(),t=null==t?null:t+"");for(var a=this._groups,c=a.length,l=0;l<c;++l)for(var f,h=a[l],p=h.length,_=0;_<p;++_)(f=h[_])&&Object(o.e)(f,t,e,_,h,n||r(f,e));return new i.a(a,this._parents,t,e)}},function(t,e,n){"use strict";function r(t){return function(){this.removeAttribute(t)}}function i(t){return function(){this.removeAttributeNS(t.space,t.local)}}function o(t,e,n){var r,i;return function(){var o=this.getAttribute(t);return o===n?null:o===r?i:i=e(r=o,n)}}function a(t,e,n){var r,i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===n?null:o===r?i:i=e(r=o,n)}}function u(t,e,n){var r,i,o;return function(){var a,u=n(this);return null==u?void this.removeAttribute(t):(a=this.getAttribute(t),a===u?null:a===r&&u===i?o:o=e(r=a,i=u))}}function s(t,e,n){var r,i,o;return function(){var a,u=n(this);return null==u?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),a===u?null:a===r&&u===i?o:o=e(r=a,i=u))}}var c=n(15),l=n(0),f=n(21),h=n(77);e.a=function(t,e){var n=Object(l.namespace)(t),p="transform"===n?c.interpolateTransformSvg:h.a;return this.attrTween(t,"function"==typeof e?(n.local?s:u)(n,p,Object(f.b)(this,"attr."+t,e)):null==e?(n.local?i:r)(n):(n.local?a:o)(n,p,e+""))}},function(t,e,n){"use strict";function r(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttributeNS(t.space,t.local,r(e))}}return n._value=e,n}function i(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttribute(t,r(e))}}return n._value=e,n}var o=n(0);e.a=function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var a=Object(o.namespace)(t);return this.tween(n,(a.local?r:i)(a,e))}},function(t,e,n){"use strict";function r(t,e){return function(){Object(o.g)(this,t).delay=+e.apply(this,arguments)}}function i(t,e){return e=+e,function(){Object(o.g)(this,t).delay=e}}var o=n(3);e.a=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?r:i)(e,t)):Object(o.f)(this.node(),e).delay}},function(t,e,n){"use strict";function r(t,e){return function(){Object(o.h)(this,t).duration=+e.apply(this,arguments)}}function i(t,e){return e=+e,function(){Object(o.h)(this,t).duration=e}}var o=n(3);e.a=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?r:i)(e,t)):Object(o.f)(this.node(),e).duration}},function(t,e,n){"use strict";function r(t,e){if("function"!=typeof e)throw new Error;return function(){Object(i.h)(this,t).ease=e}}var i=n(3);e.a=function(t){var e=this._id;return arguments.length?this.each(r(e,t)):Object(i.f)(this.node(),e).ease}},function(t,e,n){"use strict";var r=n(0),i=n(5);e.a=function(t){"function"!=typeof t&&(t=Object(r.matcher)(t));for(var e=this._groups,n=e.length,o=new Array(n),a=0;a<n;++a)for(var u,s=e[a],c=s.length,l=o[a]=[],f=0;f<c;++f)(u=s[f])&&t.call(u,u.__data__,f,s)&&l.push(u);return new i.a(o,this._parents,this._name,this._id)}},function(t,e,n){"use strict";var r=n(5);e.a=function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,o=n.length,a=Math.min(i,o),u=new Array(i),s=0;s<a;++s)for(var c,l=e[s],f=n[s],h=l.length,p=u[s]=new Array(h),_=0;_<h;++_)(c=l[_]||f[_])&&(p[_]=c);for(;s<i;++s)u[s]=e[s];return new r.a(u,this._parents,this._name,this._id)}},function(t,e,n){"use strict";function r(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}function i(t,e,n){var i,a,u=r(e)?o.g:o.h;return function(){var r=u(this,t),o=r.on;o!==i&&(a=(i=o).copy()).on(e,n),r.on=a}}var o=n(3);e.a=function(t,e){var n=this._id;return arguments.length<2?Object(o.f)(this.node(),n).on.on(t):this.each(i(n,t,e))}},function(t,e,n){"use strict";function r(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}e.a=function(){return this.on("end.remove",r(this._id))}},function(t,e,n){"use strict";var r=n(0),i=n(5),o=n(3);e.a=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Object(r.selector)(t));for(var a=this._groups,u=a.length,s=new Array(u),c=0;c<u;++c)for(var l,f,h=a[c],p=h.length,_=s[c]=new Array(p),d=0;d<p;++d)(l=h[d])&&(f=t.call(l,l.__data__,d,h))&&("__data__"in l&&(f.__data__=l.__data__),_[d]=f,Object(o.e)(_[d],e,n,d,_,Object(o.f)(l,n)));return new i.a(s,this._parents,e,n)}},function(t,e,n){"use strict";var r=n(0),i=n(5),o=n(3);e.a=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Object(r.selectorAll)(t));for(var a=this._groups,u=a.length,s=[],c=[],l=0;l<u;++l)for(var f,h=a[l],p=h.length,_=0;_<p;++_)if(f=h[_]){for(var d,v=t.call(f,f.__data__,_,h),y=Object(o.f)(f,n),m=0,g=v.length;m<g;++m)(d=v[m])&&Object(o.e)(d,e,n,m,v,y);s.push(v),c.push(f)}return new i.a(s,c,e,n)}},function(t,e,n){"use strict";var r=n(0),i=r.selection.prototype.constructor;e.a=function(){return new i(this._groups,this._parents)}},function(t,e,n){"use strict";function r(t,e){var n,r,i;return function(){var o=Object(s.style)(this,t),a=(this.style.removeProperty(t),Object(s.style)(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}function i(t){return function(){this.style.removeProperty(t)}}function o(t,e,n){var r,i;return function(){var o=Object(s.style)(this,t);return o===n?null:o===r?i:i=e(r=o,n)}}function a(t,e,n){var r,i,o;return function(){var a=Object(s.style)(this,t),u=n(this);return null==u&&(this.style.removeProperty(t),u=Object(s.style)(this,t)),a===u?null:a===r&&u===i?o:o=e(r=a,i=u)}}var u=n(15),s=n(0),c=n(21),l=n(77);e.a=function(t,e,n){var s="transform"==(t+="")?u.interpolateTransformCss:l.a;return null==e?this.styleTween(t,r(t,s)).on("end.style."+t,i(t)):this.styleTween(t,"function"==typeof e?a(t,s,Object(c.b)(this,"style."+t,e)):o(t,s,e+""),n)}},function(t,e,n){"use strict";function r(t,e,n){function r(){var r=this,i=e.apply(r,arguments);return i&&function(e){r.style.setProperty(t,i(e),n)}}return r._value=e,r}e.a=function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,r(t,e,null==n?"":n))}},function(t,e,n){"use strict";function r(t){return function(){this.textContent=t}}function i(t){return function(){var e=t(this);this.textContent=null==e?"":e}}var o=n(21);e.a=function(t){return this.tween("text","function"==typeof t?i(Object(o.b)(this,"text",t)):r(null==t?"":t+""))}},function(t,e,n){"use strict";var r=n(5),i=n(3);e.a=function(){for(var t=this._name,e=this._id,n=Object(r.c)(),o=this._groups,a=o.length,u=0;u<a;++u)for(var s,c=o[u],l=c.length,f=0;f<l;++f)if(s=c[f]){var h=Object(i.f)(s,e);Object(i.e)(s,t,n,f,c,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new r.a(o,this._parents,t,n)}},function(t,e,n){"use strict";var r=n(5),i=n(3),o=[null];e.a=function(t,e){var n,a,u=t.__transition;if(u){e=null==e?null:e+"";for(a in u)if((n=u[a]).state>i.c&&n.name===e)return new r.a([[t]],o,e,+a)}return null}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(75),o=n(191),a=n(192),u=n(193),s=n(194),c=n(195);r.selection.prototype.attrs=o.a,r.selection.prototype.styles=a.a,r.selection.prototype.properties=u.a,i.transition.prototype.attrs=s.a,i.transition.prototype.styles=c.a},function(t,e,n){"use strict";function r(t,e){return t.each(function(){var t=e.apply(this,arguments),n=Object(o.select)(this);for(var r in t)n.attr(r,t[r])})}function i(t,e){for(var n in e)t.attr(n,e[n]);return t}var o=n(0);e.a=function(t){return("function"==typeof t?r:i)(this,t)}},function(t,e,n){"use strict";function r(t,e,n){return t.each(function(){var t=e.apply(this,arguments),r=Object(o.select)(this);for(var i in t)r.style(i,t[i],n)})}function i(t,e,n){for(var r in e)t.style(r,e[r],n);return t}var o=n(0);e.a=function(t,e){return("function"==typeof t?r:i)(this,t,null==e?"":e)}},function(t,e,n){"use strict";function r(t,e){return t.each(function(){var t=e.apply(this,arguments),n=Object(o.select)(this);for(var r in t)n.property(r,t[r])})}function i(t,e){for(var n in e)t.property(n,e[n]);return t}var o=n(0);e.a=function(t){return("function"==typeof t?r:i)(this,t)}},function(t,e,n){"use strict";function r(t,e){return t.each(function(){var n=e.apply(this,arguments),r=Object(o.select)(this).transition(t);for(var i in n)r.attr(i,n[i])})}function i(t,e){for(var n in e)t.attr(n,e[n]);return t}var o=n(0);e.a=function(t){return("function"==typeof t?r:i)(this,t)}},function(t,e,n){"use strict";function r(t,e,n){return t.each(function(){var r=e.apply(this,arguments),i=Object(o.select)(this).transition(t);for(var a in r)i.style(a,r[a],n)})}function i(t,e,n){for(var r in e)t.style(r,e[r],n);return t}var o=n(0);e.a=function(t,e){return("function"==typeof t?r:i)(this,t,null==e?"":e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(197),i=n(201),o=n(202),a=n(203),u=n(7),s=n(204),c=n(205),l=n(206),f=n(207),h=function(){function t(){this.levels=[],this.connectors=[];var t=new r.StartLevel,e=new i.EndLevel,n=new s.StartItem,a=new c.EndItem;t.addItem(n),e.addItem(a),this.levels.push(t),this.levels.push(new o.IntermediateLevel),this.levels.push(e),this.connectors.push(new f.Connector(n,a))}return t.prototype.addItem=function(t,e){this.addItemToLevel(this.getLevel(t),e)},t.prototype.addItemToLevel=function(t,e){this.addItemInternal(t,e),this.adjustConnectorsAfterItemAdd(t,e)},t.prototype.insertItemAfter=function(t,e){this.insertItemAfterLevel(this.getLevel(t),e)},t.prototype.insertItemAfterLevel=function(t,e){var n=this.insertWrokflowLevelAfter(t);this.addItemInternal(n,e),this.adjustConnectorsAfterItemInsert(n,e)},t.prototype.removeItem=function(t,e){this.removeItemFromLevel(this.getLevel(t),e)},t.prototype.removeItemFromLevel=function(t,e){t.removeItem(e),t.hasItems?(this.adjustWorkflowAfterLevelItemsUpdate(t),this.adjustConnectorsAfterItemRemove(t,e)):this.removeWorkflowLevel(t)},t.prototype.getLevels=function(){return this.levels.filter(function(t){return t.type!==u.LevelType.Intermediate})},t.prototype.getAllLevels=function(){return this.levels},t.prototype.getMaxLevel=function(){return this.levels.slice().sort(function(t,e){var n=t.items.length;return e.items.length-n})[0]},t.prototype.getAllItems=function(){var t=[];return this.levels.forEach(function(e){t.push.apply(t,e.items)}),t},t.prototype.getConnectors=function(){return this.connectors},t.prototype.getPreviousLevel=function(t,e){void 0===e&&(e=1);var n=this.getLevelIndex(t);if(n<0)throw"Level does not exist";if(n-e<0)throw"Previous level does not exist";return this.levels[n-e]},t.prototype.getNextLevel=function(t,e){void 0===e&&(e=1);var n=this.getLevelIndex(t);if(n<0)throw"Level does not exist";if(n+e>this.levels.length-1)throw"Next level does not exist";return this.levels[n+e]},t.prototype.getLevelIndex=function(t){return this.levels.findIndex(function(e){return e===t})},t.prototype.getInternalLevelValue=function(t){return 2*t},t.prototype.getLevel=function(t){var e=this.getInternalLevelValue(t);if(this.levels.length<e)throw"Level does not exist";return this.levels[e]},t.prototype.addItemInternal=function(t,e){t.addItem(e),this.adjustWorkflowAfterLevelItemsUpdate(t)},t.prototype.insertWrokflowLevelAfter=function(t){var e=this.getLevelIndex(t);if(t.type===u.LevelType.End)throw"Cannot insert level after the end level";if(t.type===u.LevelType.Intermediate)throw"Cannot insert level after an intermediate level";var n=new a.WorkflowLevel;return this.levels.splice(e+1,0,new o.IntermediateLevel),this.levels.splice(e+2,0,n),n},t.prototype.removeWorkflowLevel=function(t){if(t.type===u.LevelType.Start||t.type===u.LevelType.End)throw"Cannot remove start or end levels";var e=this.getLevelIndex(t);this.levels.splice(e,2),this.adjustWorkflowAfterLevelRemove(e),this.adjustConnectorsAfterLevelRemove(e)},t.prototype.adjustWorkflowAfterLevelItemsUpdate=function(t){var e=t.items.length,n=this.getPreviousLevel(t),r=this.getNextLevel(t);if(e>1){this.getPreviousLevel(t,2).items.length>1?n.hasItems||n.addItem(new l.IntermediateItem):n.removeItem(null);this.getNextLevel(t,2).items.length>1?r.hasItems||r.addItem(new l.IntermediateItem):r.removeItem(null)}else n.removeItem(null),r.removeItem(null)},t.prototype.adjustWorkflowAfterLevelRemove=function(t){var e=this.levels[t],n=e.items.length,r=this.getPreviousLevel(e);if(n>1){this.getPreviousLevel(e,2).items.length>1?r.hasItems||r.addItem(new l.IntermediateItem):r.removeItem(null)}else r.removeItem(null)},t.prototype.adjustConnectorsAfterItemInsert=function(t,e){var n=this,r=this.getPreviousLevel(t,2),i=r.items,o=this.connectors.filter(function(t){return t.source.level===r}),a=this.getNextLevel(t,2),u=a.items,s=this.connectors.filter(function(t){return t.target.level===a});o.forEach(function(t){t.target=e}),i.length>1&&u.length>1?s.forEach(function(t){t.source=e}):u.forEach(function(t){var r=new f.Connector(e,t);n.connectors.push(r)})},t.prototype.adjustConnectorsAfterItemAdd=function(t,e){var n=this,r=t.items,i=this.getPreviousLevel(t,2),o=this.getPreviousLevel(t),a=this.getNextLevel(t,2),u=this.getNextLevel(t);if(o.hasItems){var s=o.items[0],c=(i.items,this.connectors.filter(function(t){return t.source.level===i}));2===r.length&&(c.forEach(function(t){t.target=s}),r.forEach(function(t){n.connectors.push(new f.Connector(s,t))})),r.length>2&&this.connectors.push(new f.Connector(s,e))}else{var l=i.items[0];this.connectors.push(new f.Connector(l,e))}if(u.hasItems){var h=u.items[0],p=(a.items,this.connectors.filter(function(t){return t.target.level===a}));2===r.length&&(p.forEach(function(t){t.source=h}),r.forEach(function(t){n.connectors.push(new f.Connector(t,h))})),r.length>2&&this.connectors.push(new f.Connector(e,h))}else{var _=a.items[0];this.connectors.push(new f.Connector(e,_))}},t.prototype.adjustConnectorsAfterLevelRemove=function(t){var e=this.levels[t],n=e.items,r=this.connectors.filter(function(t){return t.target.level===e}),i=this.getPreviousLevel(e),o=this.getPreviousLevel(e,2),a=o.items,u=this.connectors.filter(function(t){return t.source.level===o});if(i.hasItems){var s=i.items[0];u.forEach(function(t){t.target=s}),r.forEach(function(t){t.source=s})}else if(1===n.length){var c=n[0],l=this.connectors.findIndex(function(t){return t.target===c});this.connectors.splice(l,1),u.forEach(function(t){t.target=c})}else{var f=a[0],l=this.connectors.findIndex(function(t){return t.source===f});this.connectors.splice(l,1),r.forEach(function(t){t.source=f})}},t.prototype.adjustConnectorsAfterItemRemove=function(t,e){var n=this,r=t.items;if(1===r.length){this.connectors=this.connectors.filter(function(e){return e.source.level!==t&&e.target.level!==t});var i=r[0],o=this.getPreviousLevel(t,2),a=this.connectors.filter(function(t){return t.source.level===o}),u=this.getNextLevel(t,2),s=this.connectors.filter(function(t){return t.target.level===u});if(a.length>0)a.forEach(function(t){t.target=i});else{o.items.forEach(function(t){n.connectors.push(new f.Connector(t,i))})}if(s.length>0)s.forEach(function(t){t.source=i});else{u.items.forEach(function(t){n.connectors.push(new f.Connector(i,t))})}}else{var c=this.connectors.findIndex(function(t){return t.source===e});this.connectors.splice(c,1);var l=this.connectors.findIndex(function(t){return t.target===e});this.connectors.splice(l,1)}},t}();e.Workflow=h},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(22),o=n(7),a=n(1),u=function(t){function e(){var e=t.call(this)||this;return e._type=o.LevelType.Start,e}return r(e,t),e.prototype.addItem=function(e){if(e.type!==a.ItemType.Start)throw"Cannot add items other than start items";if(this._items.length>0)throw"Cannot contain more than one start item";t.prototype.addItem.call(this,e)},e.prototype.removeItem=function(t){throw"Cannot remove items from the start level"},e}(i.Level);e.StartLevel=u},function(t,e,n){(function(e){var n,r=e.crypto||e.msCrypto;if(r&&r.getRandomValues){var i=new Uint8Array(16);n=function(){return r.getRandomValues(i),i}}if(!n){var o=new Array(16);n=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}t.exports=n}).call(e,n(199))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){function n(t,e){var n=e||0,i=r;return i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]}for(var r=[],i=0;i<256;++i)r[i]=(i+256).toString(16).substr(1);t.exports=n},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(22),o=n(7),a=n(1),u=function(t){function e(){var e=t.call(this)||this;return e._type=o.LevelType.End,e}return r(e,t),e.prototype.addItem=function(e){if(e.type!==a.ItemType.End)throw"Cannot add items other than end items";if(this._items.length>0)throw"Cannot contain more than one end item";t.prototype.addItem.call(this,e)},e.prototype.removeItem=function(t){throw"Cannot remove items from the end level"},e}(i.Level);e.EndLevel=u},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(22),o=n(7),a=n(1),u=function(t){function e(){var e=t.call(this)||this;return e._type=o.LevelType.Intermediate,e}return r(e,t),e.prototype.addItem=function(e){if(e.type!==a.ItemType.Intermediate)throw"Cannot add items other than intermediate items";if(this._items.length>0)throw"Cannot contain more than one intermediate item";t.prototype.addItem.call(this,e)},e.prototype.removeItem=function(t){this._items.pop()},e}(i.Level);e.IntermediateLevel=u},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(22),o=n(7),a=n(1),u=function(t){function e(){var e=t.call(this)||this;return e._type=o.LevelType.Workflow,e}return r(e,t),e.prototype.addItem=function(e){if(e.type!==a.ItemType.Workflow)throw"Cannot add items other than workflow items";t.prototype.addItem.call(this,e)},e.prototype.removeItem=function(t){var e=this._items.findIndex(function(e){return e===t});this.removeItemAtIndex(e)},e.prototype.removeItemById=function(t){var e=this._items.findIndex(function(e){return e.id===t});this.removeItemAtIndex(e)},e.prototype.removeItemAtIndex=function(t){t>=0&&this._items.splice(t,1)},e}(i.Level);e.WorkflowLevel=u},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(23),o=n(1),a=function(t){function e(){var e=t.call(this)||this;return e._type=o.ItemType.Start,e._title="Start",e}return r(e,t),e}(i.Item);e.StartItem=a},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(23),o=n(1),a=function(t){function e(){var e=t.call(this)||this;return e._type=o.ItemType.End,e._title="End",e}return r(e,t),e}(i.Item);e.EndItem=a},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(23),o=n(1),a=function(t){function e(){var e=t.call(this)||this;return e._type=o.ItemType.Intermediate,e}return r(e,t),e}(i.Item);e.IntermediateItem=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(44),i=function(){function t(t,e){this._source=t,this._target=e,this._id=r()}return Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"source",{get:function(){return this._source},set:function(t){this._source=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){return this._target},set:function(t){this._target=t},enumerable:!0,configurable:!0}),t}();e.Connector=i},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(23),o=n(1),a=function(t){function e(e){var n=t.call(this)||this;return n._id=e||n._id,n._type=o.ItemType.Workflow,n}return r(e,t),e}(i.Item);e.WorkflowItem=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),i=n(78),o=n(14),a=n(214),u=function(){function t(t,e,n){var u=this;this.workflow=t,this.dispatch=e,this.canvas=n,this.levelView=new i.LevelView(this.workflow,this.dispatch,this.canvas),this.connectorView=new a.ConnectorView(this.workflow,this.dispatch,this.canvas),this.itemView=new o.ItemView(this.workflow,this.dispatch,this.canvas),this.dispatch.on("workflowitemdrop.workflow",function(e){var n=e.data.item,i=e.data.level;if(n.level!==i&&i.type!==r.LevelType.Start&&i.type!==r.LevelType.End&&(t.removeItemFromLevel(n.level,n),i.type===r.LevelType.Workflow&&t.addItemToLevel(i,n),i.type===r.LevelType.Intermediate)){var o=t.getPreviousLevel(i);t.insertItemAfterLevel(o,n)}u.render()}),this.dispatch.on("workflowitemremoveclicked.workflow",function(t){u.workflow.removeItemFromLevel(t.data.level,t.data),u.render()})}return t.prototype.render=function(){this.levelView.render(),this.connectorView.render(),this.itemView.render(),this.canvas.attrs(this.getAttributes())},t.prototype.getAttributes=function(){var t=this;return{width:function(){return t.levelView.getTotalWidth()},height:function(){return t.levelView.getMaxLevelHeight()}}},t}();e.WorkflowView=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(9),i=function(){function t(t,e){this._level=t,this.dispatch=e;var n=this;this.dispatch.on("workflowitemdrag."+this._level.id,function(t){r.select("#level-"+n._level.id).classed("wd-transparent",!n.isMouseOver)}),this.dispatch.on("workflowitemdragend."+this._level.id,function(t){r.select("#level-"+n._level.id).classed("wd-transparent",!0),n.isMouseOver&&this.dispatch.call("workflowitemdrop",n,{data:{level:n._level,item:t.data}})})}return Object.defineProperty(t.prototype,"level",{get:function(){return this._level},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isMouseOver",{get:function(){return this._isMouseOver},set:function(t){this._isMouseOver=t},enumerable:!0,configurable:!0}),t}();e.LevelData=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(14),o=n(24),a=function(){function t(){}return t.prototype.getSelector=function(){return"rect.wd-item"},t.prototype.getAttributes=function(){var t=this;return{width:function(t){return i.ItemView.getItemWidth(t.type)},height:function(t){return i.ItemView.getItemHeight(t.type)},rx:function(e){return t.getItemRadius(e.type)},ry:function(e){return t.getItemRadius(e.type)},class:function(e){return t.getClasses(e)}}},t.prototype.getClasses=function(t){return"wd-"+r.ItemType[t.type].toLocaleLowerCase()+"-item wd-item"},t.prototype.getItemRadius=function(t){switch(t){case r.ItemType.Start:return o.WorkflowDesignerConfig.startItemRadius;case r.ItemType.Workflow:return o.WorkflowDesignerConfig.workflowItemRadius;case r.ItemType.Intermediate:return o.WorkflowDesignerConfig.intermediateItemRadius;case r.ItemType.End:return o.WorkflowDesignerConfig.endItemRadius;default:return 0}},t}();e.ItemBody=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=function(){function t(){}return t.prototype.getSelector=function(){return"text.wd-item-text"},t.prototype.getAttributes=function(){var t=this;return{x:function(t){return 0},y:function(t){return 10},class:function(e){return t.getClasses(e)}}},t.prototype.setText=function(t){return t.title},t.prototype.getClasses=function(t){return"wd-"+r.ItemType[t.type].toLocaleLowerCase()+"-item-text wd-item-text"},t}();e.ItemText=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(14),o=n(24),a=function(){function t(){}return t.prototype.getSelector=function(){return"rect.wd-workflow-item-remove"},t.prototype.getAttributes=function(){var t=this;return{x:function(t){return i.ItemView.getItemWidth(t.type)-o.WorkflowDesignerConfig.workflowItemRemoveWidth},y:function(t){return 0},width:function(t){return o.WorkflowDesignerConfig.workflowItemRemoveWidth},height:function(t){return o.WorkflowDesignerConfig.workflowItemRemoveHeight},rx:function(t){return o.WorkflowDesignerConfig.workflowItemRemoveRadius},ry:function(t){return o.WorkflowDesignerConfig.workflowItemRemoveRadius},class:function(e){return t.getClasses(e)}}},t.prototype.getClasses=function(t){var e="wd-workflow-item-remove";return t.type!==r.ItemType.Workflow&&(e+=" wd-hidden"),e},t}();e.WorkflowItemRemove=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(9),i=n(14),o=n(215),a=function(){function t(t,e,n){this.workflow=t,this.dispatch=e,this.canvas=n,this.itemView=new i.ItemView(t,e,n)}return t.prototype.render=function(){var t=this.workflow.getConnectors(),e=this.canvas.selectAll(this.getSelector()).data(this.getConnectorData(t));e.enter().append("path").merge(e).attrs(this.getAttributes()),e.exit().remove()},t.prototype.getConnectorData=function(t){var e=this,n=[];return t.forEach(function(t){n.push(new o.ConnectorData(t,e.dispatch))}),n},t.prototype.getSelector=function(){return"path.wd-connector"},t.prototype.getAttributes=function(){var t=this;return{id:function(t){return"connector-"+t.connector.id},d:r.linkHorizontal().source(function(e){return[t.getSourceX(e.connector.source),t.getConnectorY(e.connector.source)]}).target(function(e){return[t.getTargetX(e.connector.target),t.getConnectorY(e.connector.target)]}),class:function(e){return t.getClasses(e)}}},t.prototype.getClasses=function(t){return"wd-connector"},t.prototype.getSourceX=function(t){return this.itemView.getTranslateX(t)+i.ItemView.getItemWidth(t.type)},t.prototype.getTargetX=function(t){var e=this.itemView.getTranslateX(t);i.ItemView.getItemWidth(t.type);return e},t.prototype.getConnectorY=function(t){return this.itemView.getTranslateY(t)+i.ItemView.getItemHeight(t.type)/2},t}();e.ConnectorView=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(9),i=function(){function t(t,e){this._connector=t,this.dispatch=e;var n=this;this.dispatch.on("workflowitemdragstart."+this._connector.id,function(t){var e=t.data,i=n._connector.source,o=n._connector.target;e!==i&&e!==o||r.select("#connector-"+n._connector.id).classed("wd-transparent",!0)}),this.dispatch.on("workflowitemdragend."+this._connector.id,function(t){var e=t.data,i=n._connector.source,o=n._connector.target;e!==i&&e!==o||r.select("#connector-"+n._connector.id).classed("wd-transparent",!1)})}return Object.defineProperty(t.prototype,"connector",{get:function(){return this._connector},enumerable:!0,configurable:!0}),t}();e.ConnectorData=i}])});